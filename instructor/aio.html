<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="it" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>The Unix Shell: Visualizzazione Tutto in Uno</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/swc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/swc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/swc/favicon-16x16.png">
<link rel="manifest" href="../favicons/swc/site.webmanifest">
<link rel="mask-icon" href="../favicons/swc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav software"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Salta al contenuto principale</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="swc-logo" alt="Software Carpentry" src="../assets/images/software-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Cambia tema (automatico)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista Istruttore <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Vista Studente</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav software" aria-label="Navigazione Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Attiva/Disattiva Navigazione">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Software Carpentry" src="../assets/images/software-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      The Unix Shell
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Cerca nella pagina Tutto in Uno" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            The Unix Shell
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Punti Chiave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Note per l'Istruttore</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Estrai Tutte le Immagini</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Altro <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussione</a></li>
<li><a class="dropdown-item" href="reference.html">Riassunto dei comandi di base</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Cerca nella pagina Tutto in Uno"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Cerca nella pagina Tutto in Uno">Cerca nella pagina Tutto in Uno</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  The Unix Shell
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: %" aria-valuenow="" aria-label="Progresso della Lezione" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="chiudi menu" alt="chiudi menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Nascondi " data-episodes="Episodi ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista Istruttore
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Vista Studente</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODI
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Riepilogo e Programma</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Introduzione alla shell</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-filedir.html">2. Navigazione tra file e directory</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-create.html">3. Lavorare con i file e le directory</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-pipefilter.html">4. Tubi e filtri</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-loop.html">5. Cicli</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-script.html">6. Script di shell</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-find.html">7. Trovare le cose</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RISORSE
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Punti Chiave</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Note per l'Istruttore</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Estrai Tutte le Immagini</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="discuss.html">Discussione</a></li>
<li><a class="dropdown-item" href="reference.html">Riassunto dei comandi di base</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">Visualizza tutto in una pagina</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-intro"><p>Content from <a href="01-intro.html">Introduzione alla shell</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/01-intro.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 5 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Cos’è una shell di comando e perché dovrei usarla?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Spiegare come la shell si relaziona con la tastiera, lo schermo, il
sistema operativo e i programmi degli utenti.</li>
<li>Spiegare quando e perché si dovrebbero usare le interfacce a riga di
comando invece delle interfacce grafiche.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="sfondo">Sfondo<a class="anchor" aria-label="anchor" href="#sfondo"></a>
</h3>
<p>L’uomo e il computer interagiscono comunemente in molti modi diversi,
ad esempio tramite tastiera e mouse, interfacce touch screen o sistemi
di riconoscimento vocale. Il modo più diffuso di interagire con i
personal computer è chiamato <strong>interfaccia utente grafica</strong>
(GUI). Con una GUI, le istruzioni vengono impartite facendo clic con il
mouse e utilizzando interazioni guidate da menu.</p>
<p>Sebbene l’aiuto visivo di un’interfaccia grafica ne renda intuitivo
l’apprendimento, questo modo di fornire istruzioni a un computer è molto
poco scalabile. Immaginate il seguente compito: per una ricerca
bibliografica, dovete copiare la terza riga di mille file di testo in
mille directory diverse e incollarla in un unico file. Utilizzando
un’interfaccia grafica, non solo dovreste cliccare alla vostra scrivania
per diverse ore, ma potreste anche commettere un errore nel completare
questo compito ripetitivo. È qui che ci avvantaggiamo della shell Unix.
La shell Unix è sia un’interfaccia a riga di comando (CLI) che un
linguaggio di scripting, che consente di svolgere tali compiti
ripetitivi in modo automatico e veloce. Con i comandi appropriati, la
shell può ripetere le operazioni con o senza modifiche tutte le volte
che si vuole. Utilizzando la shell, l’operazione descritta nell’esempio
di letteratura può essere eseguita in pochi secondi.</p>
</div>
<div class="section level3">
<h3 id="la-shell">La shell<a class="anchor" aria-label="anchor" href="#la-shell"></a>
</h3>
<p>La shell è un programma in cui gli utenti possono digitare comandi.
Con la shell è possibile richiamare programmi complicati come il
software di modellazione climatica o semplici comandi che creano una
directory vuota con una sola riga di codice. La shell Unix più diffusa è
Bash (Bourne Again SHell — così chiamata perché deriva da una shell
scritta da Stephen Bourne). Bash è la shell predefinita nella maggior
parte delle moderne implementazioni di Unix e nella maggior parte dei
pacchetti che forniscono strumenti simili a Unix per Windows. Si noti
che “Git Bash” è un software che consente agli utenti di Windows di
utilizzare un’interfaccia simile a Bash quando interagiscono con
Git.</p>
<p>L’uso della shell richiede un certo sforzo e un po’ di tempo per
essere appreso. Mentre l’interfaccia grafica presenta delle scelte da
selezionare, le scelte della CLI non vengono presentate automaticamente,
quindi è necessario imparare alcuni comandi come un nuovo vocabolario in
una lingua che si sta studiando. Tuttavia, a differenza di una lingua
parlata, un piccolo numero di “parole” (cioè di comandi) permette di
fare molta strada e oggi ci occuperemo di questi pochi elementi
essenziali.</p>
<p>La grammatica di una shell consente di combinare gli strumenti
esistenti in potenti pipeline e di gestire automaticamente grandi volumi
di dati. Le sequenze di comandi possono essere scritte in un
<em>script</em>, migliorando la riproducibilità dei flussi di
lavoro.</p>
<p>Inoltre, la riga di comando è spesso il modo più semplice per
interagire con macchine e supercomputer remoti. La familiarità con la
shell è quasi essenziale per eseguire una serie di strumenti e risorse
specializzate, compresi i sistemi di calcolo ad alte prestazioni. Con
l’aumento della popolarità dei cluster e dei sistemi di cloud computing
per l’elaborazione di dati scientifici, la capacità di interagire con la
shell sta diventando un’abilità necessaria. Possiamo basarci sulle
competenze della riga di comando qui trattate per affrontare un’ampia
gamma di domande scientifiche e sfide computazionali.</p>
<p>Iniziamo.</p>
<p>Quando la shell viene aperta per la prima volta, viene visualizzato
un <strong>prompt</strong>, che indica che la shell è in attesa di
input.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span></span></code></pre>
</div>
<p>La shell usa tipicamente <code>$</code> come prompt, ma può usare un
simbolo diverso. Negli esempi di questa lezione, mostreremo il prompt
come <code>$</code>. La cosa più importante è <em>non digitare il
prompt</em> quando si digitano i comandi. Digitate solo il comando che
segue il prompt. Questa regola si applica sia in queste lezioni che in
quelle di altre fonti. Si noti inoltre che dopo aver digitato un
comando, è necessario premere il tasto <kbd>Invio</kbd> per
eseguirlo.</p>
<p>Il prompt è seguito da un <strong>cursore di testo</strong>, un
carattere che indica la posizione in cui verrà visualizzata la
digitazione. Il cursore è solitamente un blocco lampeggiante o fisso, ma
può anche essere un trattino basso o una pipe. Lo si può vedere in un
programma di editor di testo, ad esempio.</p>
<p>Si noti che il prompt potrebbe avere un aspetto leggermente diverso.
In particolare, gli ambienti di shell più diffusi mettono per default il
nome dell’utente e il nome dell’host prima di <code>$</code>. Un prompt
di questo tipo potrebbe apparire come, ad esempio:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">nelle@localhost</span> $</span></code></pre>
</div>
<p>Il prompt potrebbe includere anche più di questo. Non preoccupatevi
se il vostro prompt non è solo un breve <code>$</code>. Questa lezione
non dipende da queste informazioni aggiuntive e non dovrebbe nemmeno
ostacolarvi. L’unico elemento importante su cui concentrarsi è il
carattere <code>$</code> stesso e vedremo più avanti perché.</p>
<p>Proviamo il nostro primo comando, <code>ls</code>, abbreviazione di
listing. Questo comando elencherà il contenuto della directory
corrente:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Desktop     Downloads   Movies      Pictures
Documents   Library     Music       Public</code></pre>
</div>
<div id="comando-non-trovato" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comando-non-trovato" class="callout-inner">
<h3 class="callout-title">Comando non trovato</h3>
<div class="callout-content">
<p>Se la shell non riesce a trovare un programma il cui nome corrisponde
al comando digitato, stamperà un messaggio di errore come:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> ks</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ks: command not found</code></pre>
</div>
<p>Questo può accadere se il comando è stato digitato in modo errato o
se il programma corrispondente a quel comando non è installato.</p>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="la-pipeline-di-nelle-un-problema-tipico">La pipeline di Nelle: Un problema tipico<a class="anchor" aria-label="anchor" href="#la-pipeline-di-nelle-un-problema-tipico"></a>
</h2>
<hr class="half-width">
<p>Nelle Nemo, una biologa marina, è appena tornata da un’indagine di
sei mesi nel <a href="https://en.wikipedia.org/wiki/North_Pacific_Gyre" class="external-link">North Pacific
Gyre</a>, dove ha campionato la vita marina gelatinosa nel <a href="https://en.wikipedia.org/wiki/Great_Pacific_Garbage_Patch" class="external-link">Great
Pacific Garbage Patch</a>. Ha 1520 campioni che ha fatto passare
attraverso una macchina di analisi per misurare l’abbondanza relativa di
300 proteine. Deve far passare questi 1520 file attraverso un programma
immaginario chiamato <code>goostats.sh</code>. Oltre a questo enorme
compito, deve scrivere i risultati entro la fine del mese, in modo che
il suo articolo possa apparire in un numero speciale di <em>Aquatic Goo
Letters</em>.</p>
<p>Se Nelle sceglie di eseguire <code>goostats.sh</code> a mano
utilizzando un’interfaccia grafica, dovrà selezionare e aprire un file
1520 volte. Se <code>goostats.sh</code> impiega 30 secondi per eseguire
ogni file, l’intero processo richiederà più di 12 ore dell’attenzione di
Nelle. Con la shell, Nelle può invece assegnare al computer questo
compito banale mentre si concentra sulla stesura del suo articolo.</p>
<p>Le prossime lezioni esploreranno i modi in cui Nelle può raggiungere
questo obiettivo. In particolare, le lezioni spiegano come Nelle possa
utilizzare una shell di comando per eseguire il programma
<code>goostats.sh</code>, utilizzando dei loop per automatizzare i
passaggi ripetitivi di inserimento dei nomi dei file, in modo che il suo
computer possa lavorare mentre lei scrive il suo articolo.</p>
<p>Una volta messa insieme una pipeline di elaborazione, sarà in grado
di riutilizzarla ogni volta che raccoglierà altri dati.</p>
<p>Per svolgere il suo compito, Nelle deve sapere come fare:</p>
<ul>
<li>navigare in un file/directory</li>
<li>creare un file/directory</li>
<li>verifica la lunghezza di un file</li>
<li>concatenare i comandi tra loro</li>
<li>recuperare un insieme di file</li>
<li>iterazione di file</li>
<li>esegue uno script di shell contenente la sua pipeline</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>Una shell è un programma il cui scopo principale è leggere i comandi
ed eseguire altri programmi.</li>
<li>Questa lezione utilizza Bash, la shell predefinita in molte
implementazioni di Unix.</li>
<li>I programmi possono essere eseguiti in Bash inserendo i comandi nel
prompt della riga di comando.</li>
<li>I principali vantaggi della shell sono l’elevato rapporto tra azioni
e battute, il supporto per l’automazione di attività ripetitive e la
capacità di accedere a macchine in rete.</li>
<li>Una sfida significativa nell’uso della shell può essere quella di
sapere quali comandi devono essere eseguiti e come eseguirli.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-02-filedir"><p>Content from <a href="02-filedir.html">Navigazione tra file e directory</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/02-filedir.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 40 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso muovermi nel mio computer?</li>
<li>Come posso vedere quali file e directory ho?</li>
<li>Come posso specificare la posizione di un file o di una directory
sul mio computer?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Spiegare le somiglianze e le differenze tra un file e una
directory.</li>
<li>Traduce un percorso assoluto in un percorso relativo e
viceversa.</li>
<li>Costruire percorsi assoluti e relativi che identificano file e
directory specifici.</li>
<li>Usare opzioni e argomenti per modificare il comportamento di un
comando di shell.</li>
<li>Dimostrare l’uso del completamento a schede e spiegarne i
vantaggi.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Nota per l'Istruttore </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>L’introduzione e la navigazione del filesystem nella shell (trattata
nella sezione <a href="02-filedir.html">Navigare tra file e
directory</a>) può creare confusione. Si possono tenere aperti fianco a
fianco sia il terminale che il file explorer della GUI, in modo che gli
studenti possano vedere il contenuto e la struttura dei file mentre
usano il terminale per navigare nel sistema.</p>
</div>
</div>
</div>
</div>
<p>La parte del sistema operativo responsabile della gestione dei file e
delle directory si chiama <strong>file system</strong>. Organizza i dati
in file, che contengono informazioni, e directory (chiamate anche
“cartelle”), che contengono file o altre directory.</p>
<p>Diversi comandi sono usati frequentemente per creare, ispezionare,
rinominare e cancellare file e directory. Per iniziare a esplorarli,
andiamo alla nostra finestra di shell aperta.</p>
<p>Per prima cosa, scopriamo dove ci troviamo eseguendo un comando
chiamato <code>pwd</code> (che sta per ‘print working directory’). Le
directory sono come <em>luoghi</em>: in qualsiasi momento, mentre si
utilizza la shell, ci si trova esattamente in un luogo chiamato
<strong>current working directory</strong>. I comandi leggono e scrivono
i file nella directory di lavoro corrente, cioè “qui”, quindi è
importante sapere dove ci si trova prima di eseguire un comando.
<code>pwd</code> mostra la posizione in cui ci si trova:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<p>Qui, la risposta del computer è <code>/Users/nelle</code>, che è la
<strong>home directory</strong> di Nelle:</p>
<div id="variazione-della-directory-principale" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variazione-della-directory-principale" class="callout-inner">
<h3 class="callout-title">Variazione della directory principale</h3>
<div class="callout-content">
<p>Il percorso della home directory ha un aspetto diverso nei diversi
sistemi operativi. Su Linux, può apparire come <code>/home/nelle</code>,
mentre su Windows sarà simile a
<code>C:\Documents and Settings\nelle</code> o
<code>C:\Users\nelle</code>. (Negli esempi futuri, abbiamo utilizzato
l’output del Mac come predefinito; l’output di Linux e Windows può
differire leggermente, ma dovrebbe essere generalmente simile.</p>
<p>Si suppone inoltre che il comando <code>pwd</code> restituisca la
home directory dell’utente. Se <code>pwd</code> restituisce qualcosa di
diverso, potrebbe essere necessario navigare lì usando <code>cd</code> o
alcuni comandi di questa lezione non funzioneranno come scritto. Vedere
<a href="#esplorare-altre-directory">Esplorare altre directory</a> per
maggiori dettagli sul comando <code>cd</code>.</p>
</div>
</div>
</div>
<p>Per capire che cos’è una “home directory”, diamo un’occhiata a come è
organizzato il file system nel suo complesso. Per il bene di questo
esempio, illustreremo il filesystem del computer della nostra scienziata
Nelle. Dopo questa illustrazione, imparerete i comandi per esplorare il
vostro filesystem, che sarà costruito in modo simile, ma non esattamente
identico.</p>
<p>Sul computer di Nelle, il filesystem ha questo aspetto:</p>
<figure><img src="../fig/filesystem.svg" alt="Il file system è costituito da una directory principale che contiene sottodirectory intitolate bin, data, users e tmp" class="figure mx-auto d-block"></figure><p>Il filesystem ha l’aspetto di un albero capovolto. La directory più
in alto è la <strong>root directory</strong> che contiene tutto il
resto. Ci si riferisce ad essa usando un carattere slash,
<code>/</code>, da solo; questo carattere è lo slash iniziale di
<code>/Users/nelle</code>.</p>
<p>all’interno di questa directory ci sono diverse altre directory:
<code>bin</code> (dove sono memorizzati alcuni programmi integrati),
<code>data</code> (per i file di dati vari), <code>Users</code> (dove si
trovano le directory personali degli utenti), <code>tmp</code> (per i
file temporanei che non devono essere memorizzati a lungo) e così
via.</p>
<p>Sappiamo che la nostra directory di lavoro corrente
<code>/Users/nelle</code> è memorizzata all’interno di
<code>/Users</code> perché <code>/Users</code> è la prima parte del suo
nome. Allo stesso modo, sappiamo che <code>/Users</code> è memorizzata
nella directory principale <code>/</code> perché il suo nome inizia con
<code>/</code>.</p>
<div id="slash" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="slash" class="callout-inner">
<h3 class="callout-title">Slash</h3>
<div class="callout-content">
<p>Si noti che il carattere <code>/</code> ha due significati. Quando
compare davanti al nome di un file o di una directory, si riferisce alla
directory principale. Quando appare <em>all’interno</em> di un percorso,
è solo un separatore.</p>
</div>
</div>
</div>
<p>Sotto <code>/Users</code>, troviamo una directory per ogni utente con
un account sulla macchina di Nelle, i suoi colleghi <em>imhotep</em> e
<em>larry</em>.</p>
<figure><img src="../fig/home-directories.svg" alt='Come altre directory, le directory home sono sottodirectory sotto "/Users", come "/Users/imhotep", "/Users/larry" o "/Users/nelle"' class="figure mx-auto d-block"></figure><p>I file dell’utente <em>imhotep</em> sono memorizzati in
<code>/Users/imhotep</code>, quelli dell’utente <em>larry</em> in
<code>/Users/larry</code> e quelli di Nelle in
<code>/Users/nelle</code>. Nelle è l’utente degli esempi; pertanto, la
nostra home directory è <code>/Users/nelle</code>. In genere, quando si
apre un nuovo prompt dei comandi, all’inizio ci si trova nella propria
home directory.</p>
<p>Ora impariamo il comando che ci permetterà di vedere il contenuto del
nostro filesystem. Possiamo vedere cosa c’è nella nostra home directory
eseguendo <code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications Documents    Library      Music        Public
Desktop      Downloads    Movies       Pictures</code></pre>
</div>
<p>(Anche in questo caso, i risultati possono essere leggermente diversi
a seconda del sistema operativo e di come è stato personalizzato il
filesystem)</p>
<p><code>ls</code> stampa i nomi dei file e delle directory nella
directory corrente. È possibile rendere il suo output più comprensibile
utilizzando l’opzione <code>-F</code> **che indica a <code>ls</code> di
classificare l’output aggiungendo un marcatore ai nomi dei file e delle
directory per indicare di cosa si tratta:</p>
<ul>
<li>il trattino <code>/</code> indica che si tratta di una
directory</li>
<li>
<code>@</code> indica un link</li>
<li>
<code>*</code> indica un eseguibile</li>
</ul>
<p>A seconda delle impostazioni predefinite della shell, questa potrebbe
anche utilizzare dei colori per indicare se ogni voce è un file o una
directory.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications/ Documents/    Library/      Music/        Public/
Desktop/      Downloads/    Movies/       Pictures/</code></pre>
</div>
<p>Qui possiamo vedere che la directory home contiene solo
<strong>sottodirectory</strong>. Tutti i nomi nell’output che non hanno
un simbolo di classificazione sono <strong>file</strong> nella directory
di lavoro corrente.</p>
<div id="cancellazione-del-terminale" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="cancellazione-del-terminale" class="callout-inner">
<h3 class="callout-title">Cancellazione del terminale</h3>
<div class="callout-content">
<p>Se lo schermo è troppo ingombro, si può cancellare il terminale con
il comando <code>clear</code>. È comunque possibile accedere ai comandi
precedenti usando <kbd>↑</kbd> e <kbd>↓</kbd> per spostarsi riga per
riga, oppure scorrendo il terminale.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="ottenere-aiuto">Ottenere aiuto<a class="anchor" aria-label="anchor" href="#ottenere-aiuto"></a>
</h3>
<p><code>ls</code> ha molte altre <strong>opzioni</strong>. Ci sono due
modi comuni per scoprire come usare un comando e quali opzioni accetta —
<strong>a seconda del vostro ambiente, potreste scoprire che solo uno di
questi modi funziona:</strong></p>
<ol style="list-style-type: decimal">
<li>possiamo passare un’opzione <code>--help</code> a qualsiasi comando
(disponibile su Linux e Git Bash), ad esempio:</li>
</ol>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--help</span></span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal">
<li>possiamo leggere il suo manuale con <code>man</code> (disponibile su
Linux e macOS):</li>
</ol>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p>descriveremo entrambi i modi in seguito.</p>
<div id="guida-per-i-comandi-incorporati" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="guida-per-i-comandi-incorporati" class="callout-inner">
<h3 class="callout-title">Guida per i comandi incorporati</h3>
<div class="callout-content">
<p>Alcuni comandi sono integrati nella shell Bash, anziché esistere come
programmi separati nel filesystem. Un esempio è il comando
<code>cd</code> (cambio di directory). Se si riceve un messaggio come
<code>No manual entry for cd</code>, provare invece
<code>help cd</code>. Il comando <code>help</code> è il modo per
ottenere informazioni sull’uso di <a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html" class="external-link">Bash
built-ins</a>.</p>
</div>
</div>
</div>
<div class="section level4">
<h4 id="lopzione---help-è-stata-utilizzata-per-elencare-i-contenuti-della-directory-di-lavoro-corrente">L’opzione <code>--help</code> è stata utilizzata per elencare i
contenuti della directory di lavoro corrente<a class="anchor" aria-label="anchor" href="#lopzione---help-%C3%A8-stata-utilizzata-per-elencare-i-contenuti-della-directory-di-lavoro-corrente"></a>
</h4>
<p>La maggior parte dei comandi di bash e dei programmi scritti per
essere eseguiti all’interno di bash supportano un’opzione
<code>--help</code> che mostra ulteriori informazioni su come utilizzare
il comando o il programma.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: ls [OPTION]... [FILE]...
List information about the FILEs (the current directory by default).
Sort entries alphabetically if neither -cftuvSUX nor --sort is specified.

Mandatory arguments to long options are mandatory for short options, too.
  -a, --all                  do not ignore entries starting with .
  -A, --almost-all           do not list implied . and ..
      --author               with -l, print the author of each file
  -b, --escape               print C-style escapes for nongraphic characters
      --block-size=SIZE      scale sizes by SIZE before printing them; e.g.,
                               '--block-size=M' prints sizes in units of
                               1,048,576 bytes; see SIZE format below
  -B, --ignore-backups       do not list implied entries ending with ~
  -c                         with -lt: sort by, and show, ctime (time of last
                               modification of file status information);
                               with -l: show ctime and sort by name;
                               otherwise: sort by ctime, newest first
  -C                         list entries by columns
      --color[=WHEN]         colorize the output; WHEN can be 'always' (default
                               if omitted), 'auto', or 'never'; more info below
  -d, --directory            list directories themselves, not their contents
  -D, --dired                generate output designed for Emacs' dired mode
  -f                         do not sort, enable -aU, disable -ls --color
  -F, --classify             append indicator (one of */=&gt;@|) to entries
...        ...        ...</code></pre>
</div>
<div id="quando-usare-le-opzioni-brevi-o-lunghe" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="quando-usare-le-opzioni-brevi-o-lunghe" class="callout-inner">
<h3 class="callout-title">Quando usare le opzioni brevi o lunghe</h3>
<div class="callout-content">
<p>Quando le opzioni esistono sia come opzioni brevi che lunghe:</p>
<ul>
<li>Usare l’opzione breve quando si digitano comandi direttamente nella
shell per ridurre al minimo la pressione dei tasti e svolgere più
rapidamente il proprio compito.</li>
<li>Usate l’opzione long negli script per fornire chiarezza. Verrà letto
molte volte e digitato una sola volta.</li>
</ul>
</div>
</div>
</div>
<div id="opzioni-della-riga-di-comando-non-supportate" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="opzioni-della-riga-di-comando-non-supportate" class="callout-inner">
<h3 class="callout-title">Opzioni della riga di comando non supportate</h3>
<div class="callout-content">
<p>Se si cerca di usare un’opzione non supportata, <code>ls</code> e
altri comandi di solito stampano un messaggio di errore simile a:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-j</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: invalid option -- 'j'
Try 'ls --help' for more information.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="il-comando-man">Il comando <code>man</code>
<a class="anchor" aria-label="anchor" href="#il-comando-man"></a>
</h4>
<p>L’altro modo per conoscere <code>ls</code> è digitare</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p>Questo comando trasformerà il vostro terminale in una pagina con una
descrizione del comando <code>ls</code> e delle sue opzioni.</p>
<p>Per navigare tra le pagine di <code>man</code>, si possono usare
<kbd>↑</kbd> e <kbd>↓</kbd> per spostarsi riga per riga, oppure provare
<kbd>b</kbd> e <kbd>Spacebar</kbd> per saltare su e giù di una pagina
intera. Per cercare un carattere o una parola nelle pagine di
<code>man</code>, usare <kbd>/</kbd> seguito dal carattere o dalla
parola che si sta cercando. A volte una ricerca produce più risultati.
In tal caso, è possibile spostarsi tra i risultati utilizzando
<kbd>N</kbd> (per andare avanti) e <kbd>Shift</kbd>+<kbd>N</kbd> (per
andare indietro).</p>
<p>Per uscire dalle pagine <code>man</code>, premere <kbd>q</kbd>.</p>
<div id="pagine-di-manuale-sul-web" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="pagine-di-manuale-sul-web" class="callout-inner">
<h3 class="callout-title">Pagine di manuale sul web</h3>
<div class="callout-content">
<p>Naturalmente, esiste un terzo modo per accedere alla guida dei
comandi: la ricerca su Internet tramite il browser. Quando si utilizza
la ricerca su Internet, includere la frase <code>unix man page</code>
nella query di ricerca aiuterà a trovare risultati pertinenti.</p>
<p>GNU fornisce collegamenti ai suoi <a href="https://www.gnu.org/manual/manual.html" class="external-link">manuali</a>, compreso il
<a href="https://www.gnu.org/software/coreutils/manual/coreutils.html" class="external-link">core
GNU utilities</a>, che copre molti comandi introdotti in questa
lezione.</p>
</div>
</div>
</div>
<div id="esplorazione-di-altre-opzioni-ls" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="esplorazione-di-altre-opzioni-ls" class="callout-inner">
<h3 class="callout-title">Esplorazione di altre opzioni
<code>ls</code>
</h3>
<div class="callout-content">
<p>È anche possibile utilizzare due opzioni contemporaneamente. Cosa fa
il comando <code>ls</code> quando viene usato con l’opzione
<code>-l</code>? E se si utilizzano sia l’opzione <code>-l</code> che
l’opzione <code>-h</code>?</p>
<p>Alcuni dei suoi risultati riguardano proprietà che non vengono
trattate in questa lezione (come i permessi e la proprietà dei file), ma
il resto dovrebbe essere comunque utile.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Soluzione </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>L’opzione <code>-l</code> fa sì che <code>ls</code> utilizzi un
formato di elenco <strong>l</strong>lungo, mostrando non solo i nomi dei
file/directory ma anche informazioni aggiuntive, come la dimensione del
file e l’ora dell’ultima modifica. Se si usano sia l’opzione
<code>-h</code> che l’opzione <code>-l</code>, si rende la dimensione
del file “leggibile dall’uomo”, cioè si visualizza qualcosa come
<code>5.3K</code> invece di <code>5369</code>.</p>
</div>
</div>
</div>
</div>
<div id="elenco-in-ordine-cronologico-inverso" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="elenco-in-ordine-cronologico-inverso" class="callout-inner">
<h3 class="callout-title">Elenco in ordine cronologico inverso</h3>
<div class="callout-content">
<p>Per impostazione predefinita, <code>ls</code> elenca il contenuto di
una directory in ordine alfabetico per nome. Il comando
<code>ls -t</code> elenca gli elementi in base all’ora dell’ultima
modifica invece che in ordine alfabetico. Il comando <code>ls -r</code>
elenca il contenuto di una directory in ordine inverso. Quale file viene
visualizzato per ultimo quando si combinano le opzioni <code>-t</code> e
<code>-r</code>? Suggerimento: Potrebbe essere necessario usare
l’opzione <code>-l</code> per vedere le ultime date di modifica.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Soluzione </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Il file modificato più di recente è elencato per ultimo quando si usa
<code>-rt</code>. Questo può essere molto utile per trovare le modifiche
più recenti o per verificare se è stato scritto un nuovo file di
output.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="esplorazione-di-altre-directory">Esplorazione di altre directory<a class="anchor" aria-label="anchor" href="#esplorazione-di-altre-directory"></a>
</h3>
<p>Non solo si può usare <code>ls</code> sulla directory di lavoro
corrente, ma anche per elencare il contenuto di una directory diversa.
Diamo un’occhiata alla nostra directory <code>Desktop</code> eseguendo
<code>ls -F Desktop</code>, cioè il comando <code>ls</code> con la
<strong>opzione</strong> <code>-F</code> e
l’[<strong>argomento</strong>][Argomenti] <code>Desktop</code>.
L’argomento <code>Desktop</code> indica a <code>ls</code> che si vuole
un elenco di qualcosa di diverso dalla directory di lavoro corrente:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>shell-lesson-data/</code></pre>
</div>
<p>Si noti che se una directory denominata <code>Desktop</code> non
esiste nella directory di lavoro corrente, questo comando restituirà un
errore. In genere, una directory <code>Desktop</code> esiste nella
propria home directory, che si presume sia la directory di lavoro
corrente della shell bash.</p>
<p>L’output dovrebbe essere un elenco di tutti i file e le
sottodirectory della vostra directory Desktop, compresa la directory
<code>shell-lesson-data</code> che avete scaricato nel <a href="index.html#setup">setup per questa lezione</a>. (Nella maggior parte dei
sistemi, il contenuto della directory <code>Desktop</code> nella shell
viene visualizzato come icona in un’interfaccia grafica dietro tutte le
finestre aperte. Verificate se questo è il vostro caso)</p>
<p>Organizzare le cose in modo gerarchico ci aiuta a tenere traccia del
nostro lavoro. Sebbene sia possibile mettere centinaia di file nella
nostra home directory, così come è possibile ammassare centinaia di
fogli stampati sulla nostra scrivania, è molto più facile trovare le
cose quando sono organizzate in sottodirectory con nomi ragionevoli.</p>
<p>Ora che sappiamo che la directory <code>shell-lesson-data</code> si
trova nella nostra directory Desktop, possiamo fare due cose.</p>
<p>Per prima cosa, usando la stessa strategia di prima, possiamo
esaminare il suo contenuto passando il nome di una directory a
<code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop/shell-lesson-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>exercise-data/  north-pacific-gyre/</code></pre>
</div>
<p>In secondo luogo, possiamo cambiare la nostra posizione in una
directory diversa, in modo da non trovarci più nella nostra home
directory.</p>
<p>Il comando per cambiare posizione è <code>cd</code> seguito da un
nome di directory per cambiare la nostra directory di lavoro.
<code>cd</code> sta per ‘change directory’, il che è un po’ fuorviante.
Il comando non cambia la directory, ma la directory di lavoro corrente
della shell. In altre parole, cambia le impostazioni della shell per
quanto riguarda la directory in cui ci troviamo. Il comando
<code>cd</code> è simile a un doppio clic su una cartella in
un’interfaccia grafica per entrare in quella cartella.</p>
<p>Supponiamo di volerci spostare nella directory
<code>exercise-data</code> che abbiamo visto sopra. Per arrivarci
possiamo usare la seguente serie di comandi:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">$</span> cd shell-lesson-data</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="ex">$</span> cd exercise-data</span></code></pre>
</div>
<p>Questi comandi ci spostano dalla nostra home directory alla nostra
directory Desktop, poi alla directory <code>shell-lesson-data</code>,
quindi alla directory <code>exercise-data</code>. Si noterà che
<code>cd</code> non stampa nulla. Questo è normale. Molti comandi di
shell non producono nulla sullo schermo quando vengono eseguiti con
successo. Ma se si esegue <code>pwd</code> dopo di esso, si può vedere
che ora ci troviamo in
<code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code>.</p>
<p>Se ora si esegue <code>ls -F</code> senza argomenti, viene elencato
il contenuto di
<code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code>,
perché è lì che ci troviamo:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>alkanes/  animal-counts/  creatures/  numbers.txt  writing/</code></pre>
</div>
<p>Ora sappiamo come scendere nell’albero delle directory (cioè come
entrare in una sottodirectory), ma come salire (cioè come lasciare una
directory e andare nella sua directory madre)? Potremmo provare a fare
come segue:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cd shell-lesson-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>-bash: cd: shell-lesson-data: No such file or directory</code></pre>
</div>
<p>ma si ottiene un errore! Perché?</p>
<p>Con i metodi utilizzati finora, <code>cd</code> può vedere solo le
sottodirectory all’interno della directory corrente. Esistono diversi
modi per vedere le directory al di sopra della posizione corrente;
inizieremo con il più semplice.</p>
<p>esiste una scorciatoia nella shell per spostarsi su un livello di
directory. Funziona come segue:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code></pre>
</div>
<p><code>..</code> è un nome speciale di directory che significa “la
directory che contiene questa”, o più brevemente, il
<strong>genitore</strong> della directory corrente. Sicuramente, se si
esegue <code>pwd</code> dopo aver eseguito <code>cd ..</code>, ci si
ritrova in <code>/Users/nelle/Desktop/shell-lesson-data</code>:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data</code></pre>
</div>
<p>La directory speciale <code>..</code> di solito non viene
visualizzata quando si esegue <code>ls</code>. Se si desidera
visualizzarla, si può aggiungere l’opzione <code>-a</code> a
<code>ls -F</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./  ../  exercise-data/  north-pacific-gyre/</code></pre>
</div>
<p><code>-a</code> sta per “mostra tutto” (compresi i file nascosti);
obbliga <code>ls</code> a mostrare i nomi dei file e delle directory che
iniziano con <code>.</code>, come ad esempio <code>..</code> (che, se ci
troviamo in <code>/Users/nelle</code>, si riferisce alla directory
<code>/Users</code>). Come si può vedere, viene visualizzata anche
un’altra directory speciale, chiamata <code>.</code>, che significa “la
directory di lavoro corrente”. Può sembrare superfluo avere un nome per
questa directory, ma presto ne vedremo l’uso.</p>
<p>Si noti che nella maggior parte degli strumenti a riga di comando,
più opzioni possono essere combinate con un singolo <code>-</code> e
senza spazi tra le opzioni; <code>ls -F -a</code> è equivalente a
<code>ls -Fa</code>.</p>
<div id="altri-file-nascosti" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="altri-file-nascosti" class="callout-inner">
<h3 class="callout-title">Altri file nascosti</h3>
<div class="callout-content">
<p>Oltre alle directory nascoste <code>..</code> e <code>.</code>, è
possibile che venga visualizzato anche un file chiamato
<code>.bash_profile</code>. Questo file contiene solitamente le
impostazioni di configurazione della shell. Si possono vedere anche
altri file e directory che iniziano con <code>.</code>. Si tratta in
genere di file e directory utilizzati per configurare diversi programmi
sul computer. Il prefisso <code>.</code> è usato per evitare che questi
file di configurazione ingombrino il terminale quando si usa il comando
standard <code>ls</code>.</p>
</div>
</div>
</div>
<p>Questi tre comandi sono i comandi di base per navigare nel filesystem
del computer: <code>pwd</code>, <code>ls</code> e <code>cd</code>.
Esploriamo alcune variazioni di questi comandi. Cosa succede se si
digita <code>cd</code> da solo, senza indicare una directory?</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>Come si può controllare cosa è successo? <code>pwd</code> ci dà la
risposta!</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<p>Si scopre che <code>cd</code> senza un argomento vi riporterà alla
vostra home directory, il che è ottimo se vi siete persi nel vostro
filesystem.</p>
<p>Proviamo a tornare alla directory <code>exercise-data</code> di
prima. L’ultima volta abbiamo usato tre comandi, ma possiamo mettere
insieme l’elenco delle directory per spostarci a
<code>exercise-data</code> in un solo passaggio:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/exercise-data</span></code></pre>
</div>
<p>Verificare che ci si sia spostati nel posto giusto eseguendo
<code>pwd</code> e <code>ls -F</code>.</p>
<p>Se si vuole salire di un livello dalla directory dei dati, si può
usare <code>cd ..</code>. Ma c’è un altro modo per spostarsi in
qualsiasi directory, indipendentemente dalla posizione attuale.</p>
<p>Finora, quando si sono specificati i nomi delle directory, o anche un
percorso di directory (come sopra), si sono usati <strong>percorsi
relativi</strong>. Quando si usa un percorso relativo con un comando
come <code>ls</code> o <code>cd</code>, si cerca di trovare quella
posizione dal punto in cui ci si trova, piuttosto che dalla radice del
file system.</p>
<p>Tuttavia, è possibile specificare il <strong>percorso
assoluto</strong> di una directory includendo il suo intero percorso a
partire dalla directory principale, indicata da una barra iniziale. La
barra iniziale <code>/</code> indica al computer di seguire il percorso
dalla radice del file system, in modo da riferirsi sempre esattamente a
una directory, indipendentemente dalla posizione in cui ci si trova
quando si esegue il comando.</p>
<p>Questo ci permette di spostarci nella nostra directory
<code>shell-lesson-data</code> da qualsiasi punto del filesystem (anche
da dentro <code>exercise-data</code>). Per trovare il percorso assoluto
che stiamo cercando, possiamo usare <code>pwd</code> e poi estrarre il
pezzo che dobbiamo spostare in <code>shell-lesson-data</code>.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> cd /Users/nelle/Desktop/shell-lesson-data</span></code></pre>
</div>
<p>Eseguire <code>pwd</code> e <code>ls -F</code> per assicurarsi di
essere nella directory prevista.</p>
<div id="altre-due-scorciatoie" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="altre-due-scorciatoie" class="callout-inner">
<h3 class="callout-title">Altre due scorciatoie</h3>
<div class="callout-content">
<p>La shell interpreta il carattere tilde (<code>~</code>) all’inizio di
un percorso come “la home directory dell’utente corrente”. Ad esempio,
se la home directory di Nelle è <code>/Users/nelle</code>, allora
<code>~/data</code> è equivalente a <code>/Users/nelle/data</code>.
Questo funziona solo se è il primo carattere del percorso;
<code>here/there/~/elsewhere</code> è <em>non</em>
<code>here/there/Users/nelle/elsewhere</code>.</p>
<p>Un’altra scorciatoia è il carattere <code>-</code>
(trattino).<code>cd</code> tradurrà <code>-</code> in <em>la directory
precedente in cui mi trovavo</em>, il che è più veloce che dover
ricordare, e poi digitare, il percorso completo. Questo è un modo
<em>molto</em> efficiente di spostarsi <em>avanti e indietro tra due
directory</em> – cioè se si esegue <code>cd -</code> due volte, si torna
alla directory di partenza.</p>
<p>La differenza tra <code>cd ..</code> e <code>cd -</code> è che il
primo porta <em>su</em>, mentre il secondo porta <em>indietro</em>.</p>
<hr>
<p>Provate! Per prima cosa spostatevi in
<code>~/Desktop/shell-lesson-data</code> (dovreste essere già lì).</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data</span></code></pre>
</div>
<p>Poi <code>cd</code> nella directory
<code>exercise-data/creatures</code></p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> cd exercise-data/creatures</span></code></pre>
</div>
<p>ora se si esegue</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cd <span class="at">-</span></span></code></pre>
</div>
<p>vedrete che siete tornati in
<code>~/Desktop/shell-lesson-data</code>. Eseguite di nuovo
<code>cd -</code> e sarete di nuovo in
<code>~/Desktop/shell-lesson-data/exercise-data/creatures</code></p>
</div>
</div>
</div>
<div id="percorsi-assoluti-e-relativi" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="percorsi-assoluti-e-relativi" class="callout-inner">
<h3 class="callout-title">Percorsi assoluti e relativi</h3>
<div class="callout-content">
<p>Partendo da <code>/Users/nelle/data</code>, quale dei seguenti
comandi potrebbe essere usato da Nelle per navigare verso la sua home
directory, che è <code>/Users/nelle</code>?</p>
<ol style="list-style-type: decimal">
<li><code>cd .</code></li>
<li><code>cd /</code></li>
<li><code>cd /home/nelle</code></li>
<li><code>cd ../..</code></li>
<li><code>cd ~</code></li>
<li><code>cd home</code></li>
<li><code>cd ~/data/..</code></li>
<li><code>cd</code></li>
<li><code>cd ..</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Soluzione </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>.</code> sta per la directory corrente.</li>
<li>No: <code>/</code> sta per la directory principale.</li>
<li>No: la directory home di Nelle è <code>/Users/nelle</code>.</li>
<li>No: questo comando sale di due livelli, cioè termina con
<code>/Users</code>.</li>
<li>Sì: <code>~</code> sta per la home directory dell’utente, in questo
caso <code>/Users/nelle</code>.</li>
<li>No: questo comando naviga in una directory <code>home</code> nella
directory corrente, se esiste.</li>
<li>Sì: inutilmente complicato, ma corretto.</li>
<li>Sì: scorciatoia per tornare alla directory principale
dell’utente.</li>
<li>Sì: sale di un livello.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="risoluzione-del-percorso-relativo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="risoluzione-del-percorso-relativo" class="callout-inner">
<h3 class="callout-title">Risoluzione del percorso relativo</h3>
<div class="callout-content">
<p>Utilizzando il diagramma del filesystem qui sotto, se
<code>pwd</code> visualizza <code>/Users/thing</code>, cosa visualizzerà
<code>ls -F ../backup</code>?</p>
<ol style="list-style-type: decimal">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original/ pnas_final/ pnas_sub/</code></li>
</ol>
<figure><img src="../fig/filesystem-challenge.svg" alt='Un albero di directory sotto la directory Utenti dove "/Utenti" contiene le directory "backup" e "thing"; "/Utenti/backup" contiene "original", "pnas_final" e "pnas_sub"; "/Utenti/thing" contiene "backup"; e "/Utenti/thing/backup" contiene "2012-12-01", "2013-01-08" e "2013-01-27"' class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Soluzione </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: c’è *una directory <code>backup</code> in
<code>/Users</code>.</li>
<li>No: questo è il contenuto di <code>Users/thing/backup</code>, ma con
<code>..</code>, abbiamo chiesto un livello più in alto.</li>
<li>No: vedi spiegazione precedente.</li>
<li>Sì: <code>../backup/</code> si riferisce a
<code>/Users/backup/</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="ls-comprensione-della-lettura" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ls-comprensione-della-lettura" class="callout-inner">
<h3 class="callout-title">
<code>ls</code> Comprensione della
lettura</h3>
<div class="callout-content">
<p>Utilizzando il diagramma del filesystem qui sotto, se
<code>pwd</code> visualizza <code>/Users/backup</code> e <code>-r</code>
dice a <code>ls</code> di visualizzare le cose in ordine inverso,
quale/i comando/i produrrà il seguente output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pnas_sub/ pnas_final/ original/</code></pre>
</div>
<figure><img src="../fig/filesystem-challenge.svg" alt='Un albero di directory sotto la directory Utenti dove "/Utenti" contiene le directory "backup" e "thing"; "/Utenti/backup" contiene "original", "pnas_final" e "pnas_sub"; "/Utenti/thing" contiene "backup"; e "/Utenti/thing/backup" contiene "2012-12-01", "2013-01-08" e "2013-01-27"' class="figure mx-auto d-block"></figure><ol style="list-style-type: decimal">
<li><code>ls pwd</code></li>
<li><code>ls -r -F</code></li>
<li><code>ls -r -F /Users/backup</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Soluzione </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>pwd</code> non è il nome di una directory.</li>
<li>Sì: <code>ls</code> senza l’argomento directory elenca i file e le
directory nella directory corrente.</li>
<li>Sì: utilizza esplicitamente il percorso assoluto.</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="sintassi-generale-di-un-comando-di-shell">Sintassi generale di un comando di Shell<a class="anchor" aria-label="anchor" href="#sintassi-generale-di-un-comando-di-shell"></a>
</h2>
<hr class="half-width">
<p>Abbiamo già incontrato comandi, opzioni e argomenti, ma forse è utile
formalizzare un po’ di terminologia.</p>
<p>Considerate il comando qui sotto come un esempio generale di comando,
che verrà sezionato nelle sue parti componenti:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> /</span></code></pre>
</div>
<figure><img src="../fig/shell_command_syntax.svg" alt="Sintassi generale di un comando di shell" class="figure mx-auto d-block"></figure><p><code>ls</code> è il <strong>comando</strong>, con una
<strong>opzione</strong> <code>-F</code> e un <strong>argomento</strong>
<code>/</code>. Abbiamo già incontrato opzioni che iniziano con un solo
trattino (<code>-</code>), note come <strong>opzioni corte</strong>, o
con due trattini (<code>--</code>), note come <strong>opzioni
lunghe</strong>. le [Opzioni] modificano il comportamento di un comando
e gli [Argomenti] indicano al comando su cosa operare (ad esempio, file
e directory). A volte le opzioni e gli argomenti sono indicati come
<strong>parametri</strong>. Un comando può essere chiamato con più di
un’opzione e più di un argomento, ma non sempre un comando richiede un
argomento o un’opzione.</p>
<p>A volte si può vedere che le opzioni vengono chiamate
<strong>scambi</strong> o <strong>flags</strong>, specialmente per le
opzioni che non richiedono argomenti. In questa lezione useremo il
termine <em>opzione</em>.</p>
<p>Ogni parte è separata da spazi. Se si omette lo spazio tra
<code>ls</code> e <code>-F</code> la shell cercherà un comando chiamato
<code>ls-F</code>, che non esiste. Inoltre, la capitalizzazione può
essere importante. Ad esempio, <code>ls -s</code> visualizzerà la
dimensione dei file e delle directory accanto ai nomi, mentre
<code>ls -S</code> ordinerà i file e le directory per dimensione, come
mostrato di seguito:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-s</span> exercise-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 28
 4 animal-counts   4 creatures  12 numbers.txt   4 alkanes   4 writing</code></pre>
</div>
<p>Si noti che le dimensioni restituite da <code>ls -s</code> sono in
<em>blocchi</em>. Poiché queste sono definite in modo diverso per i
diversi sistemi operativi, è possibile che non si ottengano le stesse
cifre dell’esempio.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-S</span> exercise-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>animal-counts  creatures  alkanes  writing  numbers.txt</code></pre>
</div>
<p>Mettendo insieme tutti questi elementi, il comando
<code>ls -F /</code> di cui sopra fornisce un elenco di file e directory
nella directory principale <code>/</code>. Di seguito è riportato un
esempio dell’output che si potrebbe ottenere dal comando precedente:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> /</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications/         System/
Library/              Users/
Network/              Volumes/</code></pre>
</div>
<div class="section level3">
<h3 id="pipeline-di-nelle-organizzare-i-file">Pipeline di Nelle: Organizzare i file<a class="anchor" aria-label="anchor" href="#pipeline-di-nelle-organizzare-i-file"></a>
</h3>
<p>sapendo queste informazioni su file e directory, Nelle è pronta a
organizzare i file che la macchina per il saggio delle proteine
creerà.</p>
<p>crea una directory chiamata <code>north-pacific-gyre</code> (per
ricordarsi da dove provengono i dati), che conterrà i file di dati della
macchina di analisi e i suoi script di elaborazione dei dati.</p>
<p>Ogni campione fisico è etichettato secondo la convenzione del suo
laboratorio con un ID unico di dieci caratteri, ad esempio “NENE01729A”.
Questo ID viene utilizzato nel registro di raccolta per registrare la
posizione, l’ora, la profondità e altre caratteristiche del campione,
quindi decide di utilizzarlo nel nome di ogni file di dati. Poiché
l’output della macchina di analisi è un testo semplice, chiamerà i suoi
file <code>NENE01729A.txt</code>, <code>NENE01812A.txt</code> e così
via. Tutti i 1520 file andranno nella stessa directory.</p>
<p>ora nella sua directory corrente <code>shell-lesson-data</code>,
Nelle può vedere quali file ha usando il comando:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/</span></code></pre>
</div>
<p>Questo comando è molto impegnativo da digitare, ma si può lasciare
che la shell faccia la maggior parte del lavoro attraverso il cosiddetto
<strong>completamento delle tabelle</strong>. Se si digita:</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> ls nor</span></code></pre>
</div>
<p>e poi preme <kbd>Tab</kbd> (il tasto tab della tastiera), la shell
completa automaticamente il nome della directory:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/</span></code></pre>
</div>
<p>Premendo di nuovo <kbd>Tab</kbd> non si ottiene nulla, poiché ci sono
più possibilità; premendo <kbd>Tab</kbd> due volte si ottiene un elenco
di tutti i file.</p>
<p>Se Nelle preme <kbd>G</kbd> e poi di nuovo <kbd>Tab</kbd>, la shell
aggiungerà ‘goo’ poiché tutti i file che iniziano con ‘g’ condividono i
primi tre caratteri ‘goo’.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/goo</span></code></pre>
</div>
<p>per vedere tutti quei file, si può premere <kbd>Tab</kbd> altre due
volte.</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="fu">ls</span> north-pacific-gyre/goo</span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="ex">goodiff.sh</span>   goostats.sh</span></code></pre>
</div>
<p>questo si chiama <strong>completamento delle tabelle</strong> e lo
vedremo in molti altri strumenti man mano che andremo avanti.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>Il file system è responsabile della gestione delle informazioni sul
disco.</li>
<li>Le informazioni sono memorizzate in file, che sono memorizzati in
directory (cartelle).</li>
<li>le directory possono anche memorizzare altre directory, che formano
un albero di directory.</li>
<li>
<code>pwd</code> stampa la directory di lavoro corrente
dell’utente.</li>
<li>
<code>ls [path]</code> stampa un elenco di uno specifico file o
directory; <code>ls</code> da solo elenca la directory di lavoro
corrente.</li>
<li>
<code>cd [path]</code> cambia la directory di lavoro corrente.</li>
<li>La maggior parte dei comandi accetta opzioni che iniziano con un
singolo <code>-</code>.</li>
<li>i nomi delle directory in un percorso sono separati con
<code>/</code> su Unix, ma <code>\</code> su Windows.</li>
<li>
<code>/</code> da sola è la directory principale dell’intero file
system.</li>
<li>Un percorso assoluto specifica una posizione dalla radice del file
system.</li>
<li>Un percorso relativo specifica una posizione a partire da quella
corrente.</li>
<li>
<code>.</code> da solo significa “la directory corrente”;
<code>..</code> significa “la directory sopra quella corrente”.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-03-create"><p>Content from <a href="03-create.html">Lavorare con i file e le directory</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/03-create.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 50 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso creare, copiare ed eliminare file e directory?</li>
<li>Come posso modificare i file?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Eliminare, copiare e spostare file e/o directory specificati.</li>
<li>Creare i file in questa gerarchia usando un editor o copiando e
rinominando i file esistenti.</li>
<li>Creare una gerarchia di directory che corrisponda a un diagramma
dato.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="creazione-di-directory">Creazione di directory<a class="anchor" aria-label="anchor" href="#creazione-di-directory"></a>
</h2>
<hr class="half-width">
<p>Ora sappiamo come esplorare i file e le directory, ma come
crearli?</p>
<p>In questo episodio impareremo a creare e spostare file e directory,
utilizzando come esempio la directory
<code>exercise-data/writing</code>.</p>
<div class="section level3">
<h3 id="fase-uno-vedere-dove-siamo-e-cosa-abbiamo-già">Fase uno: vedere dove siamo e cosa abbiamo già<a class="anchor" aria-label="anchor" href="#fase-uno-vedere-dove-siamo-e-cosa-abbiamo-gi%C3%A0"></a>
</h3>
<p>Dovremmo ancora trovarci nella cartella
<code>shell-lesson-data</code> sul Desktop, che possiamo controllare
usando:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data</code></pre>
</div>
<p>Ora ci sposteremo nella cartella <code>exercise-data/writing</code> e
vedremo cosa contiene:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> cd exercise-data/writing/</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>haiku.txt  LittleWomen.txt</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="creare-una-cartella">Creare una cartella<a class="anchor" aria-label="anchor" href="#creare-una-cartella"></a>
</h3>
<p>Creiamo una nuova cartella chiamata <code>thesis</code> usando il
comando <code>mkdir thesis</code> (che non ha output):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> mkdir thesis</span></code></pre>
</div>
<p>Come si può intuire dal nome, <code>mkdir</code> significa “directory
make”. Poiché <code>thesis</code> è un percorso relativo (cioè non ha
una barra iniziale, come <code>/what/ever/thesis</code>), la nuova
directory viene creata nella directory di lavoro corrente:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>haiku.txt  LittleWomen.txt  thesis/</code></pre>
</div>
<p>Dato che abbiamo appena creato la cartella <code>thesis</code>, non
c’è ancora nulla al suo interno:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> thesis</span></code></pre>
</div>
<p>Si noti che <code>mkdir</code> non si limita a creare singole
directory una alla volta. L’opzione <code>-p</code> permette a
<code>mkdir</code> di creare una directory con sottodirectory annidate
in una singola operazione:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> ../project/data ../project/results</span></code></pre>
</div>
<p>L’opzione <code>-R</code> del comando <code>ls</code> elenca tutte le
sottodirectory annidate all’interno di una directory. Usiamo
<code>ls -FR</code> per elencare ricorsivamente la nuova gerarchia di
directory appena creata nella directory <code>project</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-FR</span> ../project</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>../project/:
data/  results/

../project/data:

../project/results:</code></pre>
</div>
<div id="due-modi-di-fare-la-stessa-cosa" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="due-modi-di-fare-la-stessa-cosa" class="callout-inner">
<h3 class="callout-title">Due modi di fare la stessa cosa</h3>
<div class="callout-content">
<p>l’uso della shell per creare una directory non è diverso dall’uso di
un file explorer. Se si apre la directory corrente utilizzando il file
explorer grafico del sistema operativo, la directory <code>thesis</code>
apparirà anche lì. Mentre la shell e il file explorer sono due modi
diversi di interagire con i file, i file e le directory sono gli
stessi.</p>
</div>
</div>
</div>
<div id="buoni-nomi-per-i-file-e-le-directory" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="buoni-nomi-per-i-file-e-le-directory" class="callout-inner">
<h3 class="callout-title">Buoni nomi per i file e le directory</h3>
<div class="callout-content">
<p>I nomi complicati di file e directory possono rendere la vita
difficile quando si lavora alla riga di comando. Qui forniamo alcuni
suggerimenti utili per i nomi dei file e delle directory.</p>
<ol style="list-style-type: decimal">
<li>Non usare spazi.</li>
</ol>
<p>Gli spazi possono rendere un nome più significativo, ma poiché gli
spazi sono usati per separare gli argomenti sulla riga di comando, è
meglio evitarli nei nomi di file e directory. Al loro posto si può usare
<code>-</code> o <code>_</code> (ad esempio
<code>north-pacific-gyre/</code> piuttosto che
<code>north pacific gyre/</code>). Per verificarlo, provare a digitare
<code>mkdir north pacific gyre</code> e vedere quale directory (o
directory!) viene creata quando si controlla con <code>ls -F</code>.</p>
<ol start="2" style="list-style-type: decimal">
<li>Non iniziare il nome con <code>-</code> (trattino).</li>
</ol>
<p>I comandi trattano i nomi che iniziano con <code>-</code> come
opzioni.</p>
<ol start="3" style="list-style-type: decimal">
<li>attenersi a lettere, numeri, <code>.</code> (punto o ‘stop
completo’), <code>-</code> (trattino) e <code>_</code> (trattino
basso).</li>
</ol>
<p>Molti altri caratteri hanno un significato speciale sulla riga di
comando. Ne conosceremo alcuni nel corso di questa lezione. Ci sono
caratteri speciali che possono far sì che il vostro comando non funzioni
come previsto e possono persino causare la perdita di dati.</p>
<p>Se è necessario fare riferimento a nomi di file o directory che
contengono spazi o altri caratteri speciali, è necessario circondare il
nome con [virgolette] singole (<a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html" class="external-link uri">https://www.gnu.org/software/bash/manual/html_node/Quoting.html</a>)
(<code>''</code>).</p>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Nota per l'Istruttore </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>Gli studenti possono talvolta rimanere intrappolati in editor di
testo a riga di comando come Vim, Emacs o Nano. Chiudere l’emulatore di
terminale e aprirne uno nuovo può essere frustrante, perché gli studenti
devono navigare di nuovo nella cartella corretta. La nostra
raccomandazione per attenuare questo problema è che gli istruttori usino
lo stesso editor di testo degli studenti durante i workshop (nella
maggior parte dei casi Nano).</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="creare-un-file-di-testo">Creare un file di testo<a class="anchor" aria-label="anchor" href="#creare-un-file-di-testo"></a>
</h3>
<p>Cambiamo la nostra directory di lavoro in <code>thesis</code> usando
<code>cd</code>, quindi eseguiamo un editor di testo chiamato Nano per
creare un file chiamato <code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> cd thesis</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> nano draft.txt</span></code></pre>
</div>
<div id="quale-editor" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="quale-editor" class="callout-inner">
<h3 class="callout-title">Quale editor?</h3>
<div class="callout-content">
<p>Quando diciamo che “<code>nano</code> è un editor di testo”
intendiamo proprio “testo”. Può lavorare solo con i dati a caratteri
semplici, non con tabelle, immagini o altri supporti di facile utilizzo.
Lo usiamo negli esempi perché è uno degli editor di testo meno
complessi. Tuttavia, a causa di questa caratteristica, potrebbe non
essere abbastanza potente o flessibile per il lavoro che dovrete
svolgere dopo questo workshop. Sui sistemi Unix (come Linux e macOS),
molti programmatori usano <a href="https://www.gnu.org/software/emacs/" class="external-link">Emacs</a> o <a href="https://www.vim.org/" class="external-link">Vim</a> (entrambi richiedono più tempo per
essere appresi), oppure un editor grafico come <a href="https://projects.gnome.org/gedit/" class="external-link">Gedit</a> o <a href="https://code.visualstudio.com/" class="external-link">VScode</a>. Su Windows, si può
usare <a href="https://notepad-plus-plus.org/" class="external-link">Notepad++</a>. Windows ha
anche un editor incorporato chiamato <code>notepad</code> che può essere
eseguito dalla riga di comando allo stesso modo di <code>nano</code> per
gli scopi di questa lezione.</p>
<p>Indipendentemente dall’editor utilizzato, è necessario sapere dove
cerca e salva i file. Se lo si avvia dalla shell, (probabilmente) userà
la directory di lavoro corrente come posizione predefinita. Se si
utilizza il menu di avvio del computer, potrebbe voler salvare i file
nella directory Desktop o Documenti. È possibile cambiare questa scelta
navigando in un’altra directory la prima volta che si fa “Salva con
nome…”</p>
</div>
</div>
</div>
<p>digitiamo alcune righe di testo.</p>
<figure><img src="../fig/nano-screenshot.png" alt="schermata dell'editor di testo nano in azione con il testo Non è più pubblicare o morire, è condividere e prosperare" class="figure mx-auto d-block"></figure><p>Una volta che siamo soddisfatti del nostro testo, possiamo premere
<kbd>Ctrl</kbd>+<kbd>O</kbd> (premere il tasto <kbd>Ctrl</kbd> o
<kbd>Control</kbd> e, tenendolo premuto, premere il tasto <kbd>O</kbd>)
per scrivere i nostri dati su disco. Verrà richiesto un nome per il file
che conterrà il testo. Premete <kbd>Retro</kbd> per accettare il nome
predefinito suggerito di <code>draft.txt</code>.</p>
<p>una volta salvato il nostro file, possiamo usare
<kbd>Ctrl</kbd>+<kbd>X</kbd> per uscire dall’editor e tornare alla
shell.</p>
<div id="tasto-control-ctrl-o" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tasto-control-ctrl-o" class="callout-inner">
<h3 class="callout-title">Tasto Control, Ctrl o ^</h3>
<div class="callout-content">
<p>Il tasto Control è anche chiamato “Ctrl”. L’uso del tasto Control può
essere descritto in vari modi. Ad esempio, si può vedere l’istruzione di
premere il tasto <kbd>Control</kbd> e, tenendolo premuto, premere il
tasto <kbd>X</kbd>, descritto come uno dei seguenti:</p>
<ul>
<li><code>Control-X</code></li>
<li><code>Control+X</code></li>
<li><code>Ctrl-X</code></li>
<li><code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul>
<p>In nano, nella parte inferiore dello schermo si vedrà
<code>^G Get Help ^O WriteOut</code>. Ciò significa che si può usare
<code>Control-G</code> per ottenere aiuto e <code>Control-O</code> per
salvare il file.</p>
</div>
</div>
</div>
<p><code>nano</code> non lascia alcun output sullo schermo dopo la sua
uscita, ma <code>ls</code> ora mostra che è stato creato un file
chiamato <code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">draft.txt</span></span></code></pre>
</div>
<div id="creare-file-in-modo-diverso" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creare-file-in-modo-diverso" class="callout-inner">
<h3 class="callout-title">Creare file in modo diverso</h3>
<div class="callout-content">
<p>Abbiamo visto come creare file di testo usando l’editor
<code>nano</code>. Ora provate il seguente comando:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> touch my_file.txt</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><p>Cosa ha fatto il comando <code>touch</code>? Quando si guarda
alla directory corrente usando l’esploratore di file della GUI, il file
appare?</p></li>
<li><p>Utilizzare <code>ls -l</code> per ispezionare i file. Quanto è
grande <code>my_file.txt</code>?</p></li>
<li><p>Quando si potrebbe voler creare un file in questo modo?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Soluzione </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><p>Il comando <code>touch</code> genera un nuovo file chiamato
<code>my_file.txt</code> nella directory corrente. È possibile osservare
questo nuovo file generato digitando <code>ls</code> al prompt della
riga di comando. il file <code>my_file.txt</code> può anche essere
visualizzato nel file explorer della GUI.</p></li>
<li><p>Quando si ispeziona il file con <code>ls -l</code>, si noti che
la dimensione di <code>my_file.txt</code> è di 0 byte. In altre parole,
non contiene dati. Se si apre <code>my_file.txt</code> con il proprio
editor di testo, è vuoto.</p></li>
<li><p>Alcuni programmi non generano direttamente i file di output, ma
richiedono che siano già stati generati dei file vuoti. Quando il
programma viene eseguito, cerca un file esistente da riempire con il suo
output. Il comando touch consente di generare in modo efficiente un file
di testo vuoto da utilizzare per tali programmi.</p></li>
</ol>
</div>
</div>
</div>
</div>
<div id="creare-file-in-modo-diverso" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="creare-file-in-modo-diverso" class="callout-inner">
<h3 class="callout-title">Creare file in modo diverso<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>Per evitare confusione in seguito, si consiglia di rimuovere il file
appena creato prima di procedere con il resto dell’episodio, altrimenti
i risultati futuri potrebbero variare rispetto a quelli forniti nella
lezione. A tale scopo, utilizzare il seguente comando:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> rm my_file.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="cosa-cè-in-un-nome" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="cosa-cè-in-un-nome" class="callout-inner">
<h3 class="callout-title">Cosa c’è in un nome?</h3>
<div class="callout-content">
<p>Avrete notato che tutti i file di Nelle si chiamano “qualcosa punto
qualcosa”, e in questa parte della lezione abbiamo sempre usato
l’estensione <code>.txt</code>. Questa è solo una convenzione; possiamo
chiamare un file <code>mythesis</code> o qualsiasi altra cosa vogliamo.
Tuttavia, la maggior parte delle persone usa nomi divisi in due parti
per aiutare loro (e i loro programmi) a distinguere i diversi tipi di
file. La seconda parte del nome è chiamata <strong>estensione del nome
del file</strong> e indica il tipo di dati contenuti nel file:
<code>.txt</code> segnala un file di testo semplice, <code>.pdf</code>
indica un documento PDF, <code>.cfg</code> è un file di configurazione
pieno di parametri per qualche programma o altro, <code>.png</code> è
un’immagine PNG e così via.</p>
<p>Questa è solo una convenzione, anche se importante. I file contengono
semplicemente dei byte; sta a noi e ai nostri programmi interpretarli
secondo le regole dei file di testo, dei documenti PDF, dei file di
configurazione, delle immagini e così via.</p>
<p>Nominare un’immagine PNG di una balena come <code>whale.mp3</code>
non la trasforma magicamente in una registrazione di un canto di balena,
anche se <em>potrebbe</em> far sì che il sistema operativo associ il
file a un programma di riproduzione musicale. In questo caso, se
qualcuno fa doppio clic su <code>whale.mp3</code> in un programma di
esplorazione file, il lettore musicale tenterà automaticamente (ed
erroneamente) di aprire il file <code>whale.mp3</code>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="spostamento-di-file-e-directory">Spostamento di file e directory<a class="anchor" aria-label="anchor" href="#spostamento-di-file-e-directory"></a>
</h2>
<hr class="half-width">
<p>Ritorno alla cartella
<code>shell-lesson-data/exercise-data/writing</code>,</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data/exercise-data/writing</span></code></pre>
</div>
<p>Nella nostra directory <code>thesis</code> abbiamo un file
<code>draft.txt</code> che non è un nome particolarmente informativo,
quindi cambiamo il nome del file usando <code>mv</code>, che è
l’abbreviazione di ‘move’:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/draft.txt thesis/quotes.txt</span></code></pre>
</div>
<p>Il primo argomento dice a <code>mv</code> che cosa stiamo
‘spostando’, mentre il secondo è dove deve andare. In questo caso,
stiamo spostando <code>thesis/draft.txt</code> in
<code>thesis/quotes.txt</code>, il che ha lo stesso effetto di
rinominare il file. Sicuramente, <code>ls</code> ci mostra che
<code>thesis</code> ora contiene un file chiamato
<code>quotes.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<p>È necessario prestare attenzione quando si specifica il nome del file
di destinazione, poiché <code>mv</code> sovrascriverà silenziosamente
qualsiasi file esistente con lo stesso nome, con conseguente perdita di
dati. Per impostazione predefinita, <code>mv</code> non chiede conferma
prima di sovrascrivere i file. Tuttavia, un’opzione aggiuntiva,
<code>mv -i</code> (o <code>mv --interactive</code>), farà sì che
<code>mv</code> richieda tale conferma.</p>
<p>Si noti che <code>mv</code> funziona anche sulle directory.</p>
<p>Spostiamo <code>quotes.txt</code> nella directory di lavoro corrente.
Usiamo ancora una volta <code>mv</code>, ma questa volta useremo solo il
nome di una directory come secondo argomento per dire a <code>mv</code>
che vogliamo mantenere il nome del file ma metterlo in un posto nuovo.
(In questo caso, il nome della directory che utilizziamo è il nome
speciale della directory <code>.</code> di cui abbiamo parlato in
precedenza.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/quotes.txt .</span></code></pre>
</div>
<p>L’effetto è quello di spostare il file dalla directory in cui si
trovava alla directory di lavoro corrente. <code>ls</code> ora mostra
che <code>thesis</code> è vuoto:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$</code></pre>
</div>
<p>In alternativa, possiamo confermare che il file
<code>quotes.txt</code> non è più presente nella cartella
<code>thesis</code> provando esplicitamente a elencarlo:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> ls thesis/quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: cannot access 'thesis/quotes.txt': No such file or directory</code></pre>
</div>
<p><code>ls</code> con un nome di file o una directory come argomento
elenca solo il file o la directory richiesti. Se il file dato come
argomento non esiste, la shell restituisce un errore come abbiamo visto
sopra. Possiamo usare questa funzione per vedere che
<code>quotes.txt</code> è ora presente nella nostra directory
corrente:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<div id="spostamento-dei-file-in-una-nuova-cartella" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="spostamento-dei-file-in-una-nuova-cartella" class="callout-inner">
<h3 class="callout-title">Spostamento dei file in una nuova cartella</h3>
<div class="callout-content">
<p>Dopo aver eseguito i seguenti comandi, Jamie si rende conto di aver
inserito i file <code>sucrose.dat</code> e <code>maltose.dat</code>
nella cartella sbagliata. I file avrebbero dovuto essere inseriti nella
cartella <code>raw</code>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a> <span class="ex">analyzed/</span> raw/</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> analyzed</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="ex">fructose.dat</span> glucose.dat maltose.dat sucrose.dat</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="ex">$</span> cd analyzed</span></code></pre>
</div>
<p>riempire gli spazi vuoti per spostare questi file nella cartella
<code>raw/</code> (cioè quella in cui si è dimenticato di metterli)</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> mv sucrose.dat maltose.dat ____/____</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Soluzione </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> mv sucrose.dat maltose.dat ../raw</span></code></pre>
</div>
<p>Ricordate che <code>..</code> si riferisce alla directory padre (cioè
quella sopra la directory corrente) e che <code>.</code> si riferisce
alla directory corrente.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="copia-di-file-e-directory">Copia di file e directory<a class="anchor" aria-label="anchor" href="#copia-di-file-e-directory"></a>
</h2>
<hr class="half-width">
<p>Il comando <code>cp</code> funziona in modo molto simile a
<code>mv</code>, solo che copia un file invece di spostarlo. Possiamo
verificare che abbia fatto la cosa giusta usando <code>ls</code> con due
percorsi come argomenti — come la maggior parte dei comandi Unix, a
<code>ls</code> possono essere dati più percorsi contemporaneamente:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> cp quotes.txt thesis/quotations.txt</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt thesis/quotations.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>quotes.txt   thesis/quotations.txt</code></pre>
</div>
<p>Possiamo anche copiare una directory e tutto il suo contenuto usando
l’opzione <a href="https://en.wikipedia.org/wiki/Recursion" class="external-link">recursive</a>
<code>-r</code>, ad esempio per fare il backup di una directory:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="at">-r</span> thesis thesis_backup</span></code></pre>
</div>
<p>Possiamo verificare il risultato elencando il contenuto di entrambe
le directory <code>thesis</code> e <code>thesis_backup</code>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> ls thesis thesis_backup</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">thesis</span><span class="op">:</span></span>
<span><span class="va">quotations.txt</span></span>
<span></span>
<span><span class="va">thesis_backup</span><span class="op">:</span></span>
<span><span class="va">quotations.txt</span></span></code></pre>
</div>
<p>È importante includere il flag <code>-r</code>. Se si vuole copiare
una directory e si omette questa opzione, verrà visualizzato un
messaggio che indica che la directory è stata omessa perché
<code>-r not specified</code>.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> cp thesis thesis_backup</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="ex">cp:</span> <span class="at">-r</span> not specified<span class="kw">;</span> <span class="ex">omitting</span> directory <span class="st">'thesis'</span></span></code></pre>
</div>
<div id="rinominare-i-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rinominare-i-file" class="callout-inner">
<h3 class="callout-title">Rinominare i file</h3>
<div class="callout-content">
<p>Supponiamo di aver creato un file di testo semplice nella nostra
directory corrente per contenere un elenco dei test statistici che
dovremo fare per analizzare i nostri dati, e di averlo chiamato
<code>statstics.txt</code></p>
<p>Dopo aver creato e salvato questo file ci si accorge di aver
sbagliato il nome del file! Per correggere l’errore, quale dei seguenti
comandi si può utilizzare?</p>
<ol style="list-style-type: decimal">
<li><code>cp statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt .</code></li>
<li><code>cp statstics.txt .</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Soluzione </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No. Sebbene questa operazione crei un file con il nome corretto, il
file con il nome sbagliato esiste ancora nella directory e deve essere
cancellato.</li>
<li>Sì, questo funzionerebbe per rinominare il file.</li>
<li>No, il punto(.) indica dove spostare il file, ma non fornisce un
nuovo nome di file; non è possibile creare nomi di file identici.</li>
<li>No, il punto(.) indica dove copiare il file, ma non fornisce un
nuovo nome di file; non è possibile creare nomi di file identici.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="spostare-e-copiare" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="spostare-e-copiare" class="callout-inner">
<h3 class="callout-title">Spostare e copiare</h3>
<div class="callout-content">
<p>Qual è l’output del comando di chiusura <code>ls</code> nella
sequenza mostrata sotto?</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/jamie/data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">proteins.dat</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> mkdir recombined</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">$</span> mv proteins.dat recombined/</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="ex">$</span> cp recombined/proteins.dat ../proteins-saved.dat</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>proteins-saved.dat recombined</code></li>
<li><code>recombined</code></li>
<li><code>proteins.dat recombined</code></li>
<li><code>proteins-saved.dat</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Soluzione </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Partiamo dalla directory <code>/Users/jamie/data</code> e creiamo una
nuova cartella chiamata <code>recombined</code>. La seconda riga sposta
(<code>mv</code>) il file <code>proteins.dat</code> nella nuova cartella
(<code>recombined</code>). La terza riga crea una copia del file appena
spostato. La parte difficile è dove il file è stato copiato. Ricordiamo
che <code>..</code> significa “salire di livello”, quindi il file
copiato si trova ora in <code>/Users/jamie</code>. Si noti che
<code>..</code> è interpretato rispetto alla directory di lavoro
corrente, <strong>non</strong> rispetto alla posizione del file copiato.
Quindi, l’unica cosa che verrà mostrata usando ls (in
<code>/Users/jamie/data</code>) è la cartella ricombinata.</p>
<ol style="list-style-type: decimal">
<li>No, vedi spiegazione sopra. <code>proteins-saved.dat</code> si trova
in <code>/Users/jamie</code>
</li>
<li>Si</li>
<li>No, vedi spiegazione sopra. <code>proteins.dat</code> si trova in
<code>/Users/jamie/data/recombined</code>
</li>
<li>No, vedi spiegazione sopra. <code>proteins-saved.dat</code> si trova
in <code>/Users/jamie</code>
</li>
</ol>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="rimozione-di-file-e-directory">Rimozione di file e directory<a class="anchor" aria-label="anchor" href="#rimozione-di-file-e-directory"></a>
</h2>
<hr class="half-width">
<p>Tornando alla directory
<code>shell-lesson-data/exercise-data/writing</code>, riordiniamola
rimuovendo il file <code>quotes.txt</code> che abbiamo creato. Il
comando Unix che useremo a questo scopo è <code>rm</code> (abbreviazione
di ‘remove’):</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> rm quotes.txt</span></code></pre>
</div>
<p>Possiamo confermare che il file è andato via usando
<code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: cannot access 'quotes.txt': No such file or directory</code></pre>
</div>
<div id="leliminazione-è-per-sempre" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="leliminazione-è-per-sempre" class="callout-inner">
<h3 class="callout-title">L’eliminazione è per sempre</h3>
<div class="callout-content">
<p>La shell di Unix non ha un cestino da cui recuperare i file
cancellati (anche se la maggior parte delle interfacce grafiche di Unix
ce l’ha). Invece, quando si cancellano i file, questi vengono scollegati
dal file system in modo che il loro spazio di archiviazione sul disco
possa essere riciclato. Esistono strumenti per trovare e recuperare i
file cancellati, ma non è detto che funzionino in una particolare
situazione, poiché il computer potrebbe riciclare subito lo spazio su
disco del file.</p>
</div>
</div>
</div>
<div id="usare-rm-in-modo-sicuro" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="usare-rm-in-modo-sicuro" class="callout-inner">
<h3 class="callout-title">Usare <code>rm</code> in modo sicuro</h3>
<div class="callout-content">
<p>Cosa succede quando si esegue
<code>rm -i thesis_backup/quotations.txt</code>? Perché si vuole questa
protezione quando si usa <code>rm</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Soluzione </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>rm: remove regular file 'thesis_backup/quotations.txt'? y</code></pre>
</div>
<p>L’opzione <code>-i</code> chiederà prima di (ogni) rimozione (usare
<kbd>Y</kbd> per confermare la cancellazione o <kbd>N</kbd> per
mantenere il file). La shell Unix non ha un cestino, quindi tutti i file
rimossi spariranno per sempre. Utilizzando l’opzione <code>-i</code>, si
ha la possibilità di verificare che si stiano eliminando solo i file che
si desidera rimuovere.</p>
</div>
</div>
</div>
</div>
<p>Se si tenta di rimuovere la cartella <code>thesis</code> usando
<code>rm thesis</code>, si ottiene un messaggio di errore:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> rm thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>rm: cannot remove 'thesis': Is a directory</code></pre>
</div>
<p>Questo accade perché <code>rm</code> per impostazione predefinita
funziona solo sui file, non sulle directory.</p>
<p><code>rm</code> può rimuovere una directory <em>e tutto il suo
contenuto</em> se si usa l’opzione ricorsiva <code>-r</code>, e lo farà
<em>senza alcuna richiesta di conferma</em>:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> thesis</span></code></pre>
</div>
<p>Dato che non c’è modo di recuperare i file cancellati usando la
shell, <code>rm -r</code> <em>dovrebbe essere usato con grande
cautela</em> (si potrebbe considerare di aggiungere l’opzione
interattiva <code>rm -r -i</code>).</p>
</section><section><h2 class="section-heading" id="operazioni-con-più-file-e-directory">Operazioni con più file e directory<a class="anchor" aria-label="anchor" href="#operazioni-con-pi%C3%B9-file-e-directory"></a>
</h2>
<hr class="half-width">
<p>Spesso è necessario copiare o spostare più file contemporaneamente.
Questo può essere fatto fornendo un elenco di singoli nomi di file o
specificando un modello di denominazione utilizzando i caratteri jolly.
I caratteri jolly sono caratteri speciali che possono essere utilizzati
per rappresentare caratteri sconosciuti o insiemi di caratteri durante
la navigazione nel file system Unix.</p>
<div id="copia-con-più-nomi-di-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="copia-con-più-nomi-di-file" class="callout-inner">
<h3 class="callout-title">Copia con più nomi di file</h3>
<div class="callout-content">
<p>Per questo esercizio, è possibile provare i comandi nella directory
<code>shell-lesson-data/exercise-data</code>.</p>
<p>Nell’esempio seguente, cosa fa <code>cp</code> quando gli vengono
dati diversi nomi di file e un nome di directory?</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> mkdir backup</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="ex">$</span> cp creatures/minotaur.dat creatures/unicorn.dat backup/</span></code></pre>
</div>
<p>Nell’esempio seguente, cosa fa <code>cp</code> quando gli vengono
dati tre o più nomi di file?</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> cd creatures</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>basilisk.dat  minotaur.dat  unicorn.dat</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="ex">$</span> cp minotaur.dat unicorn.dat basilisk.dat</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Soluzione </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Se viene dato più di un nome di file seguito da un nome di directory
(cioè la directory di destinazione deve essere l’ultimo argomento),
<code>cp</code> copia i file nella directory nominata.</p>
<p>Se vengono dati tre nomi di file, <code>cp</code> lancia un errore
come quello che segue, perché si aspetta il nome di una directory come
ultimo argomento.</p>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>cp: target 'basilisk.dat' is not a directory</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="uso-dei-caratteri-jolly-per-accedere-a-più-file-contemporaneamente">Uso dei caratteri jolly per accedere a più file
contemporaneamente<a class="anchor" aria-label="anchor" href="#uso-dei-caratteri-jolly-per-accedere-a-pi%C3%B9-file-contemporaneamente"></a>
</h3>
<div id="caratteri-jolly" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caratteri-jolly" class="callout-inner">
<h3 class="callout-title">Caratteri jolly</h3>
<div class="callout-content">
<p><code>*</code> è un <strong>wildcard</strong>, che rappresenta zero o
più altri caratteri. Consideriamo la directory
<code>shell-lesson-data/exercise-data/alkanes</code>: <code>*.pdb</code>
rappresenta <code>ethane.pdb</code>, <code>propane.pdb</code> e ogni
file che termina con ‘.pdb’. D’altra parte, <code>p*.pdb</code>
rappresenta solo <code>pentane.pdb</code> e <code>propane.pdb</code>,
perché la ‘p’ all’inizio può rappresentare solo nomi di file che
iniziano con la lettera ‘p’.</p>
<p>anche <code>?</code> è un carattere jolly, ma rappresenta esattamente
un carattere. Quindi <code>?ethane.pdb</code> potrebbe rappresentare
<code>methane.pdb</code> mentre <code>*ethane.pdb</code> rappresenta sia
<code>ethane.pdb</code> che <code>methane.pdb</code>.</p>
<p>I caratteri jolly possono essere usati in combinazione tra loro. Ad
esempio, <code>???ane.pdb</code> indica tre caratteri seguiti da
<code>ane.pdb</code>, che danno
<code>cubane.pdb ethane.pdb octane.pdb</code>.</p>
<p>Quando la shell vede un carattere jolly, lo espande per creare un
elenco di nomi di file corrispondenti <em>prima</em> di eseguire il
comando precedente. Come eccezione, se un’espressione con il carattere
jolly non corrisponde a nessun file, Bash passerà l’espressione come
argomento al comando così com’è. Per esempio, digitando
<code>ls *.pdf</code> nella directory <code>alkanes</code> (che contiene
solo file con nomi che terminano con <code>.pdb</code>) si ottiene un
messaggio di errore che indica che non esiste un file chiamato
<code>*.pdf</code>. Tuttavia, generalmente comandi come <code>wc</code>
e <code>ls</code> vedono gli elenchi di nomi di file che corrispondono a
queste espressioni, ma non i caratteri jolly stessi. È la shell, non gli
altri programmi, a espandere i caratteri jolly.</p>
</div>
</div>
</div>
<div id="elenca-i-nomi-dei-file-che-corrispondono-a-uno-schema" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="elenca-i-nomi-dei-file-che-corrispondono-a-uno-schema" class="callout-inner">
<h3 class="callout-title">Elenca i nomi dei file che corrispondono a uno schema</h3>
<div class="callout-content">
<p>Quando vengono eseguiti nella directory <code>alkanes</code>, quali
comandi <code>ls</code> produrranno questo output?</p>
<p><code>ethane.pdb methane.pdb</code></p>
<ol style="list-style-type: decimal">
<li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Soluzione </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>La soluzione è <code>3.</code></p>
<p><code>1.</code> mostra tutti i file il cui nome contiene zero o più
caratteri (<code>*</code>) seguiti dalla lettera <code>t</code>, poi
zero o più caratteri (<code>*</code>) seguiti da <code>ane.pdb</code>.
Si ottiene così
<code>ethane.pdb methane.pdb octane.pdb pentane.pdb</code>.</p>
<p><code>2.</code> mostra tutti i file il cui nome inizia con zero o più
caratteri (<code>*</code>) seguiti dalla lettera <code>t</code>, poi un
singolo carattere (<code>?</code>), poi <code>ne.</code> seguito da zero
o più caratteri (<code>*</code>). In questo modo si ottiene
<code>octane.pdb</code> e <code>pentane.pdb</code>, ma non corrisponde a
nulla che finisca in <code>thane.pdb</code>.</p>
<p><code>3.</code> risolve i problemi dell’opzione 2 facendo
corrispondere due caratteri (<code>??</code>) tra <code>t</code> e
<code>ne</code>. Questa è la soluzione.</p>
<p><code>4.</code> mostra solo i file che iniziano con
<code>ethane.</code>.</p>
</div>
</div>
</div>
</div>
<div id="altro-sui-caratteri-jolly" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="altro-sui-caratteri-jolly" class="callout-inner">
<h3 class="callout-title">Altro sui caratteri jolly</h3>
<div class="callout-content">
<p>Sam ha una cartella contenente i dati di calibrazione, i set di dati
e le descrizioni dei set di dati:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a><span class="ex">├──</span> backup</span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a><span class="ex">│  </span> ├── calibration</span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a><span class="ex">│  </span> └── datasets</span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a>    <span class="ex">└──</span> all_november_files</span></code></pre>
</div>
<p>Prima di partire per un’altra gita, Sam vuole fare il backup dei suoi
dati e inviare alcuni set di dati al suo collega Bob. Per farlo, Sam usa
i seguenti comandi:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>dataset<span class="pp">*</span> backup/datasets</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> cp ____calibration____ backup/calibration</span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a><span class="ex">$</span> cp 2015-____-____ send_to_bob/all_november_files/</span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a><span class="ex">$</span> cp ____ send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
<p>Aiutate Sam a riempire gli spazi vuoti.</p>
<p>La struttura di directory risultante dovrebbe essere la seguente</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a><span class="ex">├──</span> backup</span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a><span class="ex">│  </span> ├── calibration</span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a><span class="ex">│  </span> │   ├── 2015-10-23-calibration.txt</span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a><span class="ex">│  </span> │   ├── 2015-10-26-calibration.txt</span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a><span class="ex">│  </span> │   └── 2015-11-23-calibration.txt</span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a><span class="ex">│  </span> └── datasets</span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset1.txt</span>
<span id="cb56-21"><a href="#cb56-21" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset2.txt</span>
<span id="cb56-22"><a href="#cb56-22" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb56-23"><a href="#cb56-23" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset1.txt</span>
<span id="cb56-24"><a href="#cb56-24" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset2.txt</span>
<span id="cb56-25"><a href="#cb56-25" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset_overview.txt</span>
<span id="cb56-26"><a href="#cb56-26" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-11-23-dataset1.txt</span>
<span id="cb56-27"><a href="#cb56-27" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-11-23-dataset2.txt</span>
<span id="cb56-28"><a href="#cb56-28" tabindex="-1"></a><span class="ex">│  </span>     └── 2015-11-23-dataset_overview.txt</span>
<span id="cb56-29"><a href="#cb56-29" tabindex="-1"></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb56-30"><a href="#cb56-30" tabindex="-1"></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb56-31"><a href="#cb56-31" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset1.txt</span>
<span id="cb56-32"><a href="#cb56-32" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset2.txt</span>
<span id="cb56-33"><a href="#cb56-33" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb56-34"><a href="#cb56-34" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-11-23-dataset1.txt</span>
<span id="cb56-35"><a href="#cb56-35" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-11-23-dataset2.txt</span>
<span id="cb56-36"><a href="#cb56-36" tabindex="-1"></a>    <span class="ex">│  </span> └── 2015-11-23-dataset_overview.txt</span>
<span id="cb56-37"><a href="#cb56-37" tabindex="-1"></a>    <span class="ex">└──</span> all_november_files</span>
<span id="cb56-38"><a href="#cb56-38" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb56-39"><a href="#cb56-39" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb56-40"><a href="#cb56-40" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb56-41"><a href="#cb56-41" tabindex="-1"></a>        <span class="ex">└──</span> 2015-11-23-dataset_overview.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Soluzione </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>calibration.txt backup/calibration</span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="ex">$</span> cp 2015-11-<span class="pp">*</span> send_to_bob/all_november_files/</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>-23-dataset<span class="pp">*</span> send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="organizzazione-di-directory-e-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="organizzazione-di-directory-e-file" class="callout-inner">
<h3 class="callout-title">Organizzazione di directory e file</h3>
<div class="callout-content">
<p>Jamie sta lavorando a un progetto e vede che i suoi file non sono ben
organizzati:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/  fructose.dat    raw/   sucrose.dat</code></pre>
</div>
<p>I file <code>fructose.dat</code> e <code>sucrose.dat</code>
contengono l’output dell’analisi dei dati. Quale/i comando/i trattato/i
in questa lezione deve eseguire affinché i comandi sottostanti producano
l’output mostrato?</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/   raw/</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="ex">$</span> ls analyzed</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>fructose.dat    sucrose.dat</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Soluzione </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>.dat analyzed</span></code></pre>
</div>
<p>Jamie deve spostare i suoi file <code>fructose.dat</code> e
<code>sucrose.dat</code> nella directory <code>analyzed</code>. La shell
espanderà *.dat in modo che corrisponda a tutti i file .dat presenti
nella directory corrente. Il comando <code>mv</code> sposta quindi
l’elenco dei file .dat nella directory ‘analyzed’.</p>
</div>
</div>
</div>
</div>
<div id="riprodurre-la-struttura-della-cartella" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="riprodurre-la-struttura-della-cartella" class="callout-inner">
<h3 class="callout-title">Riprodurre la struttura della cartella</h3>
<div class="callout-content">
<p>si sta iniziando un nuovo esperimento e si vuole duplicare la
struttura delle directory dell’esperimento precedente per poter
aggiungere nuovi dati.</p>
<p>Si supponga che l’esperimento precedente si trovi in una cartella
chiamata <code>2016-05-18</code>, che contiene una cartella
<code>data</code> che a sua volta contiene cartelle chiamate
<code>raw</code> e <code>processed</code> che contengono file di dati.
L’obiettivo è copiare la struttura delle cartelle della cartella
<code>2016-05-18</code> in una cartella chiamata
<code>2016-05-20</code>, in modo che la struttura finale delle cartelle
sia la seguente:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2016-05-20/
└── data
   ├── processed
   └── raw</code></pre>
</div>
<p>Quale dei seguenti comandi raggiungerebbe questo obiettivo? Cosa
farebbero gli altri comandi?</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data</span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a><span class="ex">$</span> mkdir data</span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a><span class="ex">$</span> cd data</span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a><span class="ex">$</span> mkdir raw processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/raw</span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a><span class="ex">$</span> mkdir data</span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a><span class="ex">$</span> mkdir raw processed</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Soluzione </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<p>Le prime due serie di comandi raggiungono questo obiettivo. La prima
serie utilizza percorsi relativi per creare la directory di primo
livello prima delle sottodirectory.</p>
<p>La terza serie di comandi darà un errore perché il comportamento
predefinito di <code>mkdir</code> non crea una sottodirectory di una
directory inesistente: le cartelle di livello intermedio devono essere
create per prime.</p>
<p>La quarta serie di comandi raggiunge questo obiettivo. Ricordate che
l’opzione <code>-p</code>, seguita da un percorso di una o più
directory, farà sì che <code>mkdir</code> crei tutte le sottodirectory
intermedie necessarie.</p>
<p>La serie finale di comandi genera le directory ‘raw’ e ‘processed’
allo stesso livello della directory ‘data’.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>
<code>cp [old] [new]</code> copia un file.</li>
<li>
<code>mkdir [path]</code> crea una nuova cartella.</li>
<li>
<code>mv [old] [new]</code> sposta (rinomina) un file o una
directory.</li>
<li>
<code>rm [path]</code> rimuove (elimina) un file.</li>
<li>
<code>*</code> corrisponde a zero o più caratteri in un nome di
file, quindi <code>*.txt</code> corrisponde a tutti i file che terminano
in <code>.txt</code>.</li>
<li>
<code>?</code> corrisponde a qualsiasi singolo carattere in un nome
di file, quindi <code>?.txt</code> corrisponde a <code>a.txt</code> ma
non a <code>any.txt</code>.</li>
<li>L’uso del tasto Control può essere descritto in molti modi, tra cui
<code>Ctrl-X</code>, <code>Control-X</code> e <code>^X</code>.</li>
<li>La shell non ha un cestino: una volta che qualcosa è stato
cancellato, è davvero sparito.</li>
<li>La maggior parte dei nomi dei file è
<code>something.extension</code>. L’estensione non è necessaria e non
garantisce nulla, ma viene normalmente utilizzata per indicare il tipo
di dati contenuti nel file.</li>
<li>A seconda del tipo di lavoro svolto, potrebbe essere necessario un
editor di testo più potente di Nano.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-04-pipefilter"><p>Content from <a href="04-pipefilter.html">Tubi e filtri</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/04-pipefilter.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 35 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso combinare i comandi esistenti per produrre l’output
desiderato?</li>
<li>Come posso mostrare solo una parte dell’output?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Spiegare il vantaggio di collegare i comandi con pipe e filtri.</li>
<li>combinare sequenze di comandi per ottenere un nuovo output</li>
<li>Reindirizzare l’output di un comando a un file.</li>
<li>Spiegate cosa succede di solito se a un programma o a una pipeline
non viene dato alcun input da elaborare.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Ora che conosciamo alcuni comandi di base, possiamo finalmente
esaminare la caratteristica più potente della shell: la facilità con cui
ci permette di combinare programmi esistenti in modi nuovi. Inizieremo
con la directory <code>shell-lesson-data/exercise-data/alkanes</code>
che contiene sei file che descrivono alcune semplici molecole organiche.
L’estensione <code>.pdb</code> indica che questi file sono in formato
Protein Data Bank, un semplice formato di testo che specifica il tipo e
la posizione di ogni atomo nella molecola.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb    methane.pdb    pentane.pdb
ethane.pdb    octane.pdb     propane.pdb</code></pre>
</div>
<p>Eseguiamo un comando di esempio:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> wc cubane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>20  156 1158 cubane.pdb</code></pre>
</div>
<p><code>wc</code> è il comando “contaparole”: conta il numero di righe,
parole e caratteri nei file (restituendo i valori in questo ordine, da
sinistra a destra).</p>
<p>Se si esegue il comando <code>wc *.pdb</code>, il <code>*</code> in
<code>*.pdb</code> corrisponde a zero o più caratteri, quindi la shell
trasforma <code>*.pdb</code> in un elenco di tutti i file
<code>.pdb</code> nella directory corrente:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  156  1158  cubane.pdb
  12  84   622   ethane.pdb
   9  57   422   methane.pdb
  30  246  1828  octane.pdb
  21  165  1226  pentane.pdb
  15  111  825   propane.pdb
 107  819  6081  total</code></pre>
</div>
<p>Si noti che <code>wc *.pdb</code> mostra anche il numero totale di
tutte le righe nell’ultima riga dell’output.</p>
<p>Se si esegue <code>wc -l</code> invece di <code>wc</code>, l’output
mostra solo il numero di righe per file:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<p>Le opzioni <code>-m</code> e <code>-w</code> possono essere usate
anche con il comando <code>wc</code> per mostrare rispettivamente solo
il numero di caratteri o il numero di parole.</p>
<div id="perché-non-fa-nulla" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="perché-non-fa-nulla" class="callout-inner">
<h3 class="callout-title">Perché non fa nulla?</h3>
<div class="callout-content">
<p>Cosa succede se un comando deve elaborare un file, ma non gli viene
assegnato un nome? Ad esempio, cosa succede se digitiamo:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span></span></code></pre>
</div>
<p>ma non digita <code>*.pdb</code> (o qualsiasi altra cosa) dopo il
comando? Poiché non ha alcun nome di file, <code>wc</code> presume di
dover elaborare l’input dato dal prompt dei comandi, quindi se ne sta lì
ad aspettare che gli si forniscano dei dati in modo interattivo.
Dall’esterno, però, tutto ciò che si vede è che è seduto lì e il comando
non sembra fare nulla.</p>
<p>Se commettete questo tipo di errore, potete uscire da questo stato
tenendo premuto il tasto control (<kbd>Ctrl</kbd>) e premendo una volta
la lettera <kbd>C</kbd>: <kbd>Ctrl</kbd>+<kbd>C</kbd>. Quindi rilasciare
entrambi i tasti.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="cattura-delloutput-da-comandi">Cattura dell’output da comandi<a class="anchor" aria-label="anchor" href="#cattura-delloutput-da-comandi"></a>
</h2>
<hr class="half-width">
<p>Quale di questi file contiene il minor numero di righe? È facile
rispondere a questa domanda quando ci sono solo sei file, ma se ce ne
fossero 6000? Il primo passo verso la soluzione consiste nell’eseguire
il comando:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>Il simbolo maggiore di, <code>&gt;</code>, indica alla shell di
<strong>reindirizzare</strong> l’output del comando a un file invece di
stamparlo sullo schermo. Questo comando non stampa alcun output sullo
schermo, perché tutto ciò che <code>wc</code> avrebbe stampato è andato
invece nel file <code>lengths.txt</code>. Se il file non esiste prima
dell’emissione del comando, la shell lo creerà. Se il file esiste già,
verrà sovrascritto silenziosamente, con conseguente perdita di dati.
Pertanto, i comandi <strong>redirect</strong> richiedono cautela.</p>
<p><code>ls lengths.txt</code> conferma che il file esiste:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">lengths.txt</span></span></code></pre>
</div>
<p>Ora possiamo inviare il contenuto di <code>lengths.txt</code> allo
schermo usando <code>cat lengths.txt</code>. Il comando <code>cat</code>
prende il nome da ‘concatenate’, cioè unire insieme, e stampa il
contenuto dei file uno dopo l’altro. In questo caso c’è un solo file,
quindi <code>cat</code> ci mostra solo ciò che contiene:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> cat lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<div id="output-pagina-per-pagina" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="output-pagina-per-pagina" class="callout-inner">
<h3 class="callout-title">Output Pagina per Pagina</h3>
<div class="callout-content">
<p>In questa lezione continueremo a usare <code>cat</code> per comodità
e coerenza, ma ha lo svantaggio di scaricare sempre l’intero file sullo
schermo. Più utile nella pratica è il comando <code>less</code> (ad
esempio <code>less lengths.txt</code>). Questo comando visualizza una
schermata del file e poi si ferma. Si può andare avanti di una schermata
premendo la barra spaziatrice, o indietro di una premendo
<code>b</code>. Premere <code>q</code> per uscire.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="filtraggio-delloutput">Filtraggio dell’output<a class="anchor" aria-label="anchor" href="#filtraggio-delloutput"></a>
</h2>
<hr class="half-width">
<p>Il prossimo passo sarà quello di usare il comando <code>sort</code>
per ordinare il contenuto del file <code>lengths.txt</code>. Ma prima
faremo un esercizio per imparare qualcosa sul comando sort:</p>
<div id="cosa-fa-sort--n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="cosa-fa-sort--n" class="callout-inner">
<h3 class="callout-title">Cosa fa <code>sort -n</code>?</h3>
<div class="callout-content">
<p>Il file <code>shell-lesson-data/exercise-data/numbers.txt</code>
contiene le seguenti righe:</p>
<pre class="source"><code><span><span class="fl">10</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
<p>Se eseguiamo <code>sort</code> su questo file, l’output è:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
</div>
<p>Se si esegue <code>sort -n</code> sullo stesso file, si ottiene
invece questo:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span></code></pre>
</div>
<p>Spiegare perché <code>-n</code> ha questo effetto.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Soluzione
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>L’opzione <code>-n</code> specifica un ordinamento numerico anziché
alfanumerico.</p>
</div>
</div>
</div>
</div>
<p>Useremo anche l’opzione <code>-n</code> per specificare che
l’ordinamento è numerico invece che alfanumerico. Questo non modifica il
file, ma invia il risultato dell’ordinamento allo schermo:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb
 12  ethane.pdb
 15  propane.pdb
 20  cubane.pdb
 21  pentane.pdb
 30  octane.pdb
107  total</code></pre>
</div>
<p>Possiamo mettere l’elenco ordinato di righe in un altro file
temporaneo chiamato <code>sorted-lengths.txt</code> mettendo
<code>&gt; sorted-lengths.txt</code> dopo il comando, proprio come
abbiamo usato <code>&gt; lengths.txt</code> per mettere l’output di
<code>wc</code> in <code>lengths.txt</code>. Una volta fatto questo, si
può eseguire un altro comando chiamato <code>head</code> per ottenere le
prime righe in <code>sorted-lengths.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> sorted-lengths.txt</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 sorted-lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>L’uso di <code>-n 1</code> con <code>head</code> indica che vogliamo
solo la prima riga del file; <code>-n 20</code> otterrebbe le prime 20 e
così via. Poiché <code>sorted-lengths.txt</code> contiene le lunghezze
dei file ordinate dalla minore alla maggiore, l’output di
<code>head</code> deve essere il file con il minor numero di righe.</p>
<div id="reindirizzamento-allo-stesso-file" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="reindirizzamento-allo-stesso-file" class="callout-inner">
<h3 class="callout-title">Reindirizzamento allo stesso file</h3>
<div class="callout-content">
<p>È una pessima idea cercare di reindirizzare l’output di un comando
che opera su un file allo stesso file. Ad esempio:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>Fare qualcosa del genere potrebbe dare risultati errati e/o
cancellare il contenuto di <code>lengths.txt</code>.</p>
</div>
</div>
</div>
<div id="cosa-significa" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="cosa-significa" class="callout-inner">
<h3 class="callout-title">Cosa significa <code>&gt;&gt;</code>?</h3>
<div class="callout-content">
<p>Abbiamo visto l’uso di <code>&gt;</code>, ma esiste un operatore
simile <code>&gt;&gt;</code> che funziona in modo leggermente diverso.
Impareremo le differenze tra questi due operatori stampando alcune
stringhe. Possiamo usare il comando <code>echo</code> per stampare delle
stringhe, ad esempio</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> echo The echo command prints text</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The echo command prints text</code></pre>
</div>
<p>Ora provate i comandi sottostanti per scoprire la differenza tra i
due operatori:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;</span> testfile01.txt</span></code></pre>
</div>
<p>e:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code></pre>
</div>
<p>Suggerimento: provate a eseguire ogni comando due volte di seguito e
poi esaminate i file di output.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Soluzione
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Nel primo esempio con <code>&gt;</code>, la stringa ‘hello’ viene
scritta in <code>testfile01.txt</code>, ma il file viene sovrascritto
ogni volta che si esegue il comando.</p>
<p>Vediamo dal secondo esempio che anche l’operatore
<code>&gt;&gt;</code> scrive ‘hello’ in un file (in questo caso
<code>testfile02.txt</code>), ma aggiunge la stringa al file se questo
esiste già (cioè quando lo eseguiamo per la seconda volta).</p>
</div>
</div>
</div>
</div>
<div id="applicazione-dei-dati" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="applicazione-dei-dati" class="callout-inner">
<h3 class="callout-title">Applicazione dei dati</h3>
<div class="callout-content">
<p>Abbiamo già incontrato il comando <code>head</code>, che stampa le
righe dall’inizio di un file. il comando <code>tail</code> è simile, ma
stampa le righe dalla fine di un file.</p>
<p>Considerare il file
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>.
Dopo questi comandi, selezionare la risposta che corrisponde al file
<code>animals-subset.csv</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 3 animals.csv <span class="op">&gt;</span> animals-subset.csv</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 2 animals.csv <span class="op">&gt;&gt;</span> animals-subset.csv</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Le prime tre righe di <code>animals.csv</code>
</li>
<li>le ultime due righe di <code>animals.csv</code>
</li>
<li>Le prime tre righe e le ultime due righe di
<code>animals.csv</code>
</li>
<li>La seconda e la terza riga di <code>animals.csv</code>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Soluzione
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>L’opzione 3 è corretta. Affinché l’opzione 1 sia corretta, si deve
eseguire solo il comando <code>head</code>. Per l’opzione 2 è corretto
eseguire solo il comando <code>tail</code>. Affinché l’opzione 4 sia
corretta, occorre eseguire il pipe dell’output di <code>head</code> in
<code>tail -n 2</code> facendo
<code>head -n 3 animals.csv | tail -n 2 &gt; animals-subset.csv</code></p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="passaggio-delloutput-a-un-altro-comando">Passaggio dell’output a un altro comando<a class="anchor" aria-label="anchor" href="#passaggio-delloutput-a-un-altro-comando"></a>
</h2>
<hr class="half-width">
<p>Nel nostro esempio di ricerca del file con il minor numero di righe,
stiamo usando due file intermedi <code>lengths.txt</code> e
<code>sorted-lengths.txt</code> per memorizzare l’output. Questo è un
modo confuso di lavorare, perché anche una volta capito cosa fanno
<code>wc</code>, <code>sort</code> e <code>head</code>, questi file
intermedi rendono difficile capire cosa sta succedendo. Si può
semplificare la comprensione eseguendo <code>sort</code> e
<code>head</code> insieme:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>La barra verticale, <code>|</code>, tra i due comandi è chiamata
<strong>pipe</strong>. Indica alla shell che vogliamo usare l’output del
comando a sinistra come input del comando a destra.</p>
<p>Questo ha eliminato la necessità del file
<code>sorted-lengths.txt</code>.</p>
</section><section><h2 class="section-heading" id="combinazione-di-più-comandi">Combinazione di più comandi<a class="anchor" aria-label="anchor" href="#combinazione-di-pi%C3%B9-comandi"></a>
</h2>
<hr class="half-width">
<p>Nulla ci impedisce di concatenare le pipe consecutivamente. Ad
esempio, possiamo inviare l’output di <code>wc</code> direttamente a
<code>sort</code>, e poi inviare l’output risultante a
<code>head</code>. Questo elimina la necessità di file intermedi.</p>
<p>Inizieremo usando una pipe per inviare l’output di <code>wc</code> a
<code>sort</code>:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9 methane.pdb
  12 ethane.pdb
  15 propane.pdb
  20 cubane.pdb
  21 pentane.pdb
  30 octane.pdb
 107 total</code></pre>
</div>
<p>Possiamo quindi inviare l’output attraverso un’altra pipe, a
<code>head</code>, in modo che la pipeline completa diventi:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9  methane.pdb</code></pre>
</div>
<p>Questo è esattamente come un matematico che annida funzioni come
<em>log(3x)</em> e dice “il log di tre volte <em>x</em>”. Nel nostro
caso, l’algoritmo è “testa dell’ordinamento del numero di righe di
<code>*.pdb</code>”.</p>
<p>Il reindirizzamento e le pipe utilizzate negli ultimi comandi sono
illustrati di seguito:</p>
<p><img src="../fig/redirects-and-pipes.svg" class="figure">{alt=‘Redirects and Pipes di
diversi comandi: “wc -l *.pdb” indirizzerà l’output alla shell. “wc -l
*.pdb &gt; lunghezze” dirige l’output al file “lunghezze”. “wc -l *.pdb
| sort -n | head -n 1” crea una pipeline in cui l’output del comando
“wc” è l’input del comando “sort”, l’output del comando “sort” è l’input
del comando “head” e l’output del comando “head” è diretto alla
shell’}</p>
<div id="comandi-piping-insieme" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comandi-piping-insieme" class="callout-inner">
<h3 class="callout-title">Comandi piping insieme</h3>
<div class="callout-content">
<p>Nella nostra directory corrente, vogliamo trovare i 3 file che hanno
il minor numero di righe. Quale comando elencato di seguito potrebbe
funzionare?</p>
<ol style="list-style-type: decimal">
<li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Soluzione
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>L’opzione 4 è la soluzione. Il carattere pipe <code>|</code> viene
usato per collegare l’uscita di un comando all’ingresso di un altro. il
carattere <code>&gt;</code> è usato per reindirizzare l’output standard
a un file. Provatelo nella directory
<code>shell-lesson-data/exercise-data/alkanes</code>!</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="strumenti-progettati-per-funzionare-insieme">Strumenti progettati per funzionare insieme<a class="anchor" aria-label="anchor" href="#strumenti-progettati-per-funzionare-insieme"></a>
</h2>
<hr class="half-width">
<p>Questa idea di collegare i programmi tra loro è il motivo per cui
Unix ha avuto tanto successo. Invece di creare programmi enormi che
cercano di fare molte cose diverse, i programmatori Unix si concentrano
sulla creazione di molti strumenti semplici che svolgono bene un lavoro
ciascuno e che funzionano bene tra loro. Questo modello di
programmazione è chiamato “pipe e filtri”. Abbiamo già visto le pipe; un
<strong>filtro</strong> è un programma come <code>wc</code> o
<code>sort</code> che trasforma un flusso di input in un flusso di
output. Quasi tutti gli strumenti standard di Unix possono funzionare in
questo modo. A meno che non venga detto di fare diversamente, essi
leggono dallo standard input, fanno qualcosa con ciò che hanno letto e
scrivono sullo standard output.</p>
<p>La chiave è che ogni programma che legge righe di testo dallo
standard input e scrive righe di testo sullo standard output può essere
combinato con ogni altro programma che si comporta in questo modo.
Potete <em>e dovreste</em> scrivere i vostri programmi in questo modo,
in modo che voi e altre persone possiate inserire quei programmi nelle
pipe per moltiplicarne la potenza.</p>
<div id="comprensione-della-lettura-di-pipe" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comprensione-della-lettura-di-pipe" class="callout-inner">
<h3 class="callout-title">Comprensione della lettura di pipe</h3>
<div class="callout-content">
<p>Un file chiamato <code>animals.csv</code> (nella cartella
<code>shell-lesson-data/exercise-data/animal-counts</code>) contiene i
seguenti dati:</p>
<pre class="source"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-06,fox,4
2012-11-07,rabbit,16
2012-11-07,bear,1</code></pre>
<p>Quale testo passa attraverso ciascuna delle pipe e il redirect finale
nella pipeline sottostante? Si noti che il comando <code>sort -r</code>
ordina in ordine inverso.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> cat animals.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code></pre>
</div>
<p>Suggerimento: costruite la pipeline un comando alla volta per
verificare la vostra comprensione</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Soluzione
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>Il comando <code>head</code> estrae le prime 5 righe da
<code>animals.csv</code>. Poi, le ultime 3 righe vengono estratte dalle
precedenti 5 usando il comando <code>tail</code>. Con il comando
<code>sort -r</code> queste 3 righe vengono ordinate in ordine inverso.
Infine, l’output viene reindirizzato in un file: <code>final.txt</code>.
Il contenuto di questo file può essere controllato eseguendo il comando
<code>cat final.txt</code>. Il file dovrebbe contenere le seguenti
righe:</p>
<pre class="source"><code>2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-05,raccoon,7</code></pre>
</div>
</div>
</div>
</div>
<div id="costruzione-di-un-tubo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="costruzione-di-un-tubo" class="callout-inner">
<h3 class="callout-title">Costruzione di un tubo</h3>
<div class="callout-content">
<p>Per il file <code>animals.csv</code> dell’esercizio precedente,
considerate il seguente comando:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv</span></code></pre>
</div>
<p>Il comando <code>cut</code> è usato per rimuovere o “tagliare” certe
sezioni di ogni riga del file, e <code>cut</code> si aspetta che le
righe siano separate in colonne da un carattere <kbd>Tab</kbd>. Un
carattere usato in questo modo è chiamato <strong>delimitatore</strong>.
Nell’esempio precedente si usa l’opzione <code>-d</code> per specificare
la virgola come carattere delimitatore. Abbiamo anche usato l’opzione
<code>-f</code> per specificare che vogliamo estrarre il secondo campo
(colonna). Si ottiene così il seguente risultato:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">deer</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">raccoon</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">deer</span></span>
<span><span class="va">fox</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">bear</span></span></code></pre>
</div>
<p>Il comando <code>uniq</code> filtra le righe adiacenti corrispondenti
in un file. Come si potrebbe estendere questa pipeline (usando
<code>uniq</code> e un altro comando) per scoprire quali animali
contiene il file (senza duplicati nei loro nomi)?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Soluzione
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="quale-tubo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="quale-tubo" class="callout-inner">
<h3 class="callout-title">Quale tubo?</h3>
<div class="callout-content">
<p>Il file <code>animals.csv</code> contiene 8 righe di dati formattati
come segue:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
...</code></pre>
</div>
<p>Il comando <code>uniq</code> ha un’opzione <code>-c</code> che
fornisce un conteggio del numero di volte in cui una riga è presente nel
suo input. Supponendo che la vostra directory corrente sia
<code>shell-lesson-data/exercise-data/animal-counts</code>, quale
comando usereste per produrre una tabella che mostri il numero totale di
ogni tipo di animale nel file?</p>
<ol style="list-style-type: decimal">
<li><code>sort animals.csv | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c | wc -l</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Soluzione
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>L’opzione 4. è la risposta corretta. Se avete difficoltà a capire
perché, provate a eseguire i comandi o le sottosezioni delle pipeline
(assicuratevi di essere nella directory
<code>shell-lesson-data/exercise-data/animal-counts</code>).</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="pipeline-di-nelle-controllo-dei-file">Pipeline di Nelle: Controllo dei file<a class="anchor" aria-label="anchor" href="#pipeline-di-nelle-controllo-dei-file"></a>
</h2>
<hr class="half-width">
<p>Nelle ha fatto passare i suoi campioni attraverso le macchine di
analisi e ha creato 17 file nella directory
<code>north-pacific-gyre</code> descritta in precedenza. Per un rapido
controllo, partendo dalla directory <code>shell-lesson-data</code>,
Nelle digita:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> cd north-pacific-gyre</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>l’output è costituito da 18 righe che assomigliano a queste:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>300 NENE01729A.txt
300 NENE01729B.txt
300 NENE01736A.txt
300 NENE01751A.txt
300 NENE01751B.txt
300 NENE01812A.txt
... ...</code></pre>
</div>
<p>Ora digita questo:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 240 NENE02018B.txt
 300 NENE01729A.txt
 300 NENE01729B.txt
 300 NENE01736A.txt
 300 NENE01751A.txt</code></pre>
</div>
<p>Ops: uno dei file è 60 righe più corto degli altri. Quando torna
indietro e controlla, vede che ha fatto quel saggio alle 8:00 di lunedì
mattina — probabilmente qualcuno ha usato la macchina nel fine settimana
e lei ha dimenticato di resettarla. Prima di rieseguire il campione,
controlla se qualche file ha troppi dati:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 300 NENE02040B.txt
 300 NENE02040Z.txt
 300 NENE02043A.txt
 300 NENE02043B.txt
5040 total</code></pre>
</div>
<p>I numeri sembrano buoni, ma cosa ci fa quella “Z” nella terzultima
riga? Tutti i suoi campioni dovrebbero essere contrassegnati con ‘A’ o
‘B’; per convenzione, il suo laboratorio usa la ‘Z’ per indicare i
campioni con informazioni mancanti. Per trovare altri campioni simili,
fa così:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>Z.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01971Z.txt    NENE02040Z.txt</code></pre>
</div>
<p>Quando controlla il registro sul suo portatile, non c’è alcuna
profondità registrata per nessuno dei due campioni. Poiché è troppo
tardi per ottenere le informazioni in altro modo, deve escludere questi
due file dalla sua analisi. Potrebbe eliminarli usando <code>rm</code>,
ma in realtà ci sono analisi che potrebbe fare in seguito in cui la
profondità non è importante, quindi dovrà fare attenzione a selezionare
i file usando le espressioni jolly
<code>NENE*A.txt NENE*B.txt</code>.</p>
<div id="rimozione-dei-file-non-necessari" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rimozione-dei-file-non-necessari" class="callout-inner">
<h3 class="callout-title">Rimozione dei file non necessari</h3>
<div class="callout-content">
<p>Supponiamo di voler cancellare i file dei dati elaborati e di voler
conservare solo i file grezzi e lo script di elaborazione per
risparmiare spazio. I file grezzi terminano in <code>.dat</code> e
quelli elaborati in <code>.txt</code>. Quale delle seguenti operazioni
rimuoverà tutti i file di dati elaborati e <em>solo</em> i file di dati
elaborati?</p>
<ol style="list-style-type: decimal">
<li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Soluzione
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Questo rimuove i file <code>.txt</code> con nomi di un solo
carattere</li>
<li>Questa è la risposta corretta</li>
<li>La shell espanderebbe <code>*</code> per far corrispondere tutto ciò
che si trova nella directory corrente, quindi il comando cercherebbe di
rimuovere tutti i file corrispondenti e un file aggiuntivo chiamato
<code>.txt</code>
</li>
<li>La shell espande <code>*.*</code> per far corrispondere tutti i nomi
di file contenenti almeno un <code>.</code>, compresi i file elaborati
(<code>.txt</code>) <em>e</em> i file grezzi (<code>.dat</code>)</li>
</ol>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>
<code>wc</code> conta righe, parole e caratteri nei suoi input.</li>
<li>
<code>cat</code> mostra il contenuto dei suoi input.</li>
<li>
<code>sort</code> ordina i suoi input.</li>
<li>
<code>head</code> visualizza le prime 10 righe del suo input per
impostazione predefinita, senza ulteriori argomenti.</li>
<li>
<code>tail</code> visualizza le ultime 10 righe del suo input per
impostazione predefinita, senza ulteriori argomenti.</li>
<li>
<code>command &gt; [file]</code> reindirizza l’output di un comando
a un file (sovrascrivendo qualsiasi contenuto esistente).</li>
<li>
<code>command &gt;&gt; [file]</code> aggiunge l’output di un comando
a un file.</li>
<li>
<code>[first] | [second]</code> è una pipeline: l’output del primo
comando viene usato come input del secondo.</li>
<li>Il modo migliore per usare la shell è usare le pipe per combinare
semplici programmi monouso (filtri).</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-loop"><p>Content from <a href="05-loop.html">Cicli</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/05-loop.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 50 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso eseguire le stesse azioni su molti file diversi?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Scrivere un ciclo che applichi uno o più comandi separatamente a
ciascun file di un insieme di file.</li>
<li>Traccia dei valori assunti da una variabile del ciclo durante la sua
esecuzione.</li>
<li>Spiegare la differenza tra il nome di una variabile e il suo
valore.</li>
<li>Spiegare perché gli spazi e alcuni caratteri di punteggiatura non
dovrebbero essere usati nei nomi dei file.</li>
<li>Dimostrare come vedere quali comandi sono stati eseguiti di
recente.</li>
<li>Eseguire nuovamente i comandi eseguiti di recente senza
riscriverli.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><strong>I loop</strong> sono un costrutto di programmazione che ci
permette di ripetere un comando o un insieme di comandi per ogni
elemento di un elenco. In quanto tali, sono fondamentali per migliorare
la produttività attraverso l’automazione. Analogamente ai caratteri
jolly e al completamento delle schede, l’uso dei cicli riduce anche la
quantità di battitura necessaria (e quindi il numero di errori di
battitura).</p>
<p>Supponiamo di avere diverse centinaia di file di dati del genoma
denominati <code>basilisk.dat</code>, <code>minotaur.dat</code> e
<code>unicorn.dat</code>. Per questo esempio, utilizzeremo la directory
<code>exercise-data/creatures</code> che contiene solo tre file di
esempio, ma i principi possono essere applicati a molti più file
contemporaneamente.</p>
<p>La struttura di questi file è la stessa: il nome comune, la
classificazione e la data di aggiornamento sono presentati sulle prime
tre righe, con le sequenze di DNA sulle righe successive. Esaminiamo i
file:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 5 basilisk.dat minotaur.dat unicorn.dat</span></code></pre>
</div>
<p>Vorremmo stampare la classificazione di ogni specie, che è riportata
nella seconda riga di ogni file. Per ogni file, dobbiamo eseguire il
comando <code>head -n 2</code> e inviarlo a <code>tail -n 1</code>. Per
risolvere questo problema utilizzeremo un ciclo, ma prima vediamo la
forma generale di un ciclo, utilizzando lo pseudo-codice seguente:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># The word "for" indicates the start of a "For-loop" command</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="cf">for</span> thing <span class="kw">in</span> list_of_things </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#The word "do" indicates the start of job execution list</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="cf">do</span> </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>    <span class="co"># Indentation within the loop is not required, but aids legibility</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="ex">operation_using/command</span> <span class="va">$thing</span> </span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># The word "done" indicates the end of a loop</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="cf">done</span>  </span></code></pre>
</div>
<p>e possiamo applicarla al nostro esempio in questo modo:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> for filename in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$filename</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>basilisk.dat
CLASSIFICATION: basiliscus vulgaris
minotaur.dat
CLASSIFICATION: bos hominus
unicorn.dat
CLASSIFICATION: equus monoceros</code></pre>
</div>
<div id="seguire-il-prompt" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="seguire-il-prompt" class="callout-inner">
<h3 class="callout-title">Seguire il prompt</h3>
<div class="callout-content">
<p>Il prompt della shell cambia da <code>$</code> a <code>&gt;</code> e
viceversa mentre digitiamo il nostro ciclo. Il secondo prompt,
<code>&gt;</code>, è diverso per ricordarci che non abbiamo ancora
finito di digitare un comando completo. Il punto e virgola,
<code>;</code>, può essere usato per separare due comandi scritti su una
singola riga.</p>
</div>
</div>
</div>
<p>Quando la shell vede la parola chiave <code>for</code>, sa che deve
ripetere un comando (o un gruppo di comandi) una volta per ogni elemento
di un elenco. Ogni volta che il ciclo viene eseguito (chiamato
iterazione), un elemento dell’elenco viene assegnato in sequenza alla
<strong>variabile</strong> e i comandi all’interno del ciclo vengono
eseguiti, prima di passare all’elemento successivo dell’elenco.
All’interno del ciclo, si richiede il valore della variabile anteponendo
<code>$</code>. La <code>$</code> indica all’interprete della shell di
trattare la variabile come un nome di variabile e di sostituire il suo
valore al suo posto, anziché trattarla come un testo o un comando
esterno.</p>
<p>In questo esempio, l’elenco è costituito da tre nomi di file:
<code>basilisk.dat</code>, <code>minotaur.dat</code> e
<code>unicorn.dat</code>. Ogni volta che il ciclo itera, si usa prima
<code>echo</code> per stampare il valore che la variabile
<code>$filename</code> contiene attualmente. Questo non è necessario ai
fini del risultato, ma è utile per seguire più facilmente la procedura.
Successivamente, verrà eseguito il comando <code>head</code> sul file a
cui fa riferimento <code>$filename</code>. La prima volta che viene
eseguito il ciclo, <code>$filename</code> è <code>basilisk.dat</code>.
L’interprete esegue il comando <code>head</code> su
<code>basilisk.dat</code> e trasmette le prime due righe al comando
<code>tail</code>, che stampa la seconda riga di
<code>basilisk.dat</code>. Per la seconda iterazione,
<code>$filename</code> diventa <code>minotaur.dat</code>. Questa volta,
la shell esegue <code>head</code> su <code>minotaur.dat</code> e invia
le prime due righe al comando <code>tail</code>, che stampa la seconda
riga di <code>minotaur.dat</code>. Per la terza iterazione,
<code>$filename</code> diventa <code>unicorn.dat</code>, quindi la shell
esegue il comando <code>head</code> su quel file e <code>tail</code> sul
suo output. Poiché l’elenco era composto da soli tre elementi, la shell
esce dal ciclo <code>for</code>.</p>
<div id="stessi-simboli-significati-diversi" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="stessi-simboli-significati-diversi" class="callout-inner">
<h3 class="callout-title">Stessi simboli, significati diversi</h3>
<div class="callout-content">
<p>Qui vediamo <code>&gt;</code> usato come prompt della shell, mentre
<code>&gt;</code> è usato anche per reindirizzare l’output. Allo stesso
modo, <code>$</code> è usato come prompt della shell, ma, come abbiamo
visto prima, è anche usato per chiedere alla shell di ottenere il valore
di una variabile.</p>
<p>Se la <em>shell</em> stampa <code>&gt;</code> o <code>$</code>,
allora si aspetta che venga digitato qualcosa, e il simbolo è un
prompt.</p>
<p>Se si digita <code>&gt;</code> o <code>$</code>, si tratta di
un’istruzione che indica alla shell di reindirizzare l’output o di
ottenere il valore di una variabile.</p>
</div>
</div>
</div>
<p>Quando si usano le variabili è anche possibile mettere i nomi tra
parentesi graffe per delimitare chiaramente il nome della variabile:
<code>$filename</code> è equivalente a <code>${filename}</code>, ma è
diverso da <code>${file}name</code>. È possibile trovare questa
notazione nei programmi di altre persone.</p>
<p>Abbiamo chiamato la variabile in questo ciclo <code>filename</code>
per rendere il suo scopo più chiaro ai lettori umani. Alla shell stessa
non interessa come viene chiamata la variabile; se scrivessimo questo
ciclo come:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> for x in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$x</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>o:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> for temperature in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$temperature</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>funzionerebbe esattamente allo stesso modo. *I programmi sono utili
solo se le persone possono capirli, quindi nomi senza senso (come
<code>x</code>) o fuorvianti (come <code>temperature</code>) aumentano
le probabilità che il programma non faccia ciò che i lettori pensano che
faccia.</p>
<p>Negli esempi precedenti, alle variabili (<code>thing</code>,
<code>filename</code>, <code>x</code> e <code>temperature</code>) si
sarebbe potuto dare qualsiasi altro nome, purché significativo sia per
chi scrive il codice sia per chi lo legge.</p>
<p>Si noti anche che i cicli possono essere usati per cose diverse dai
nomi di file, come un elenco di numeri o un sottoinsieme di dati.</p>
<div id="scrivete-il-vostro-ciclo-personale" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="scrivete-il-vostro-ciclo-personale" class="callout-inner">
<h3 class="callout-title">Scrivete il vostro ciclo personale</h3>
<div class="callout-content">
<p>Come si scrive un ciclo che fa l’eco di tutti i 10 numeri da 0 a
9?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Soluzione
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> for loop_variable in 0 1 2 3 4 5 6 7 8 9</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$loop_variable</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0</span></span>
<span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">4</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">8</span></span>
<span><span class="fl">9</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="variabili-nei-loop" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variabili-nei-loop" class="callout-inner">
<h3 class="callout-title">Variabili nei loop</h3>
<div class="callout-content">
<p>Questo esercizio si riferisce alla directory
<code>shell-lesson-data/exercise-data/alkanes</code>. la directory
<code>ls *.pdb</code> fornisce il seguente output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>Qual è l’output del seguente codice?</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="ex">*.pdb</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Ora, qual è l’output del seguente codice?</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$datafile</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Perché questi due cicli danno risultati diversi?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Soluzione
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Il primo blocco di codice dà lo stesso risultato a ogni iterazione
del ciclo. Bash espande il carattere jolly <code>*.pdb</code>
all’interno del corpo del ciclo (e anche prima dell’inizio del ciclo) in
modo che corrisponda a tutti i file che terminano con <code>.pdb</code>
e poi li elenca usando <code>ls</code>. Il ciclo espanso avrebbe il
seguente aspetto:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> for datafile in cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="ex">cubane.pdb</span>  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>Il secondo blocco di codice elenca un file diverso a ogni iterazione
del ciclo. Il valore della variabile <code>datafile</code> viene
valutato con <code>$datafile</code> e poi elencato con
<code>ls</code>.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">cubane.pdb</span></span>
<span><span class="va">ethane.pdb</span></span>
<span><span class="va">methane.pdb</span></span>
<span><span class="va">octane.pdb</span></span>
<span><span class="va">pentane.pdb</span></span>
<span><span class="va">propane.pdb</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="limitare-gli-insiemi-di-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitare-gli-insiemi-di-file" class="callout-inner">
<h3 class="callout-title">Limitare gli insiemi di file</h3>
<div class="callout-content">
<p>Quale sarebbe l’output dell’esecuzione del seguente ciclo nella
directory <code>shell-lesson-data/exercise-data/alkanes</code>?</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> for filename in c<span class="pp">*</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Non sono elencati file.</li>
<li>Tutti i file sono elencati.</li>
<li>Sono elencati solo <code>cubane.pdb</code>, <code>octane.pdb</code>
e <code>pentane.pdb</code>.</li>
<li>Viene elencato solo <code>cubane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Soluzione
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>4 è la risposta corretta. <code>*</code> corrisponde a zero o più
caratteri, quindi qualsiasi nome di file che inizia con la lettera c,
seguita da zero o più altri caratteri, verrà trovato.</p>
</div>
</div>
</div>
</div>
<div id="limitare-gli-insiemi-di-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitare-gli-insiemi-di-file" class="callout-inner">
<h3 class="callout-title">Limitare gli insiemi di file<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>In che modo l’output sarebbe diverso se si usasse invece questo
comando?</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>c<span class="pp">*</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>verrebbero elencati gli stessi file.</li>
<li>Questa volta vengono elencati tutti i file.</li>
<li>Questa volta non sono elencati file.</li>
<li>I file <code>cubane.pdb</code> e <code>octane.pdb</code> saranno
elencati.</li>
<li>Verrà elencato solo il file <code>octane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Soluzione
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>4 è la risposta corretta. <code>*</code> corrisponde a zero o più
caratteri, quindi un nome di file con zero o più caratteri prima di una
lettera c e zero o più caratteri dopo la lettera c sarà corrisposto.</p>
</div>
</div>
</div>
</div>
<div id="salvataggio-su-un-file-in-un-ciclo---prima-parte" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="salvataggio-su-un-file-in-un-ciclo---prima-parte" class="callout-inner">
<h3 class="callout-title">Salvataggio su un file in un ciclo - Prima parte</h3>
<div class="callout-content">
<p>Nella directory <code>shell-lesson-data/exercise-data/alkanes</code>,
qual è l’effetto di questo ciclo?</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="cf">for</span> alkanes <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$alkanes</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$alkanes</span> <span class="op">&gt;</span> alkanes.pdb</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Stampa <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> e <code>propane.pdb</code>, e il testo di
<code>propane.pdb</code> sarà salvato in un file chiamato
<code>alkanes.pdb</code>.</li>
<li>stampa <code>cubane.pdb</code>, <code>ethane.pdb</code> e
<code>methane.pdb</code>, e il testo di tutti e tre i file viene
concatenato e salvato in un file chiamato <code>alkanes.pdb</code>.</li>
<li>Stampa <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code> e
<code>pentane.pdb</code>, e il testo di <code>propane.pdb</code> sarà
salvato in un file chiamato <code>alkanes.pdb</code>.</li>
<li>Nessuno dei precedenti.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Soluzione
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>il testo di ogni file viene scritto a turno nel file
<code>alkanes.pdb</code>. Tuttavia, il file viene sovrascritto a ogni
iterazione del ciclo, quindi il contenuto finale di
<code>alkanes.pdb</code> è il testo del file
<code>propane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="salvataggio-su-un-file-in-un-ciclo---parte-seconda" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="salvataggio-su-un-file-in-un-ciclo---parte-seconda" class="callout-inner">
<h3 class="callout-title">Salvataggio su un file in un ciclo - Parte seconda</h3>
<div class="callout-content">
<p>Sempre nella directory
<code>shell-lesson-data/exercise-data/alkanes</code>, quale sarebbe
l’output del seguente ciclo?</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Tutto il testo di <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code> e
<code>pentane.pdb</code> verrebbe concatenato e salvato in un file
chiamato <code>all.pdb</code>.</li>
<li>Il testo di <code>ethane.pdb</code> verrà salvato in un file
chiamato <code>all.pdb</code>.</li>
<li>Tutto il testo di <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> e <code>propane.pdb</code> verrebbe concatenato
e salvato in un file chiamato <code>all.pdb</code>.</li>
<li>Tutto il testo di <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> e <code>propane.pdb</code> verrebbe stampato
sullo schermo e salvato in un file chiamato <code>all.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Soluzione
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<p>3 è la risposta corretta. <code>&gt;&gt;</code> aggiunge a un file,
invece di sovrascriverlo con l’output rediretto da un comando. Dato che
l’output del comando <code>cat</code> è stato reindirizzato, non viene
stampato nulla sullo schermo.</p>
</div>
</div>
</div>
</div>
<p>Continuiamo con il nostro esempio nella directory
<code>shell-lesson-data/exercise-data/creatures</code>. Ecco un ciclo
leggermente più complicato:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$filename</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>La shell inizia espandendo <code>*.dat</code> per creare l’elenco dei
file che elaborerà. Il <strong>corpo del ciclo</strong> esegue quindi
due comandi per ciascuno di questi file. Il primo comando,
<code>echo</code>, stampa i suoi argomenti della riga di comando sullo
standard output. Ad esempio:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> echo hello there</span></code></pre>
</div>
<p>stampa:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>hello there</code></pre>
</div>
<p>In questo caso, poiché la shell espande <code>$filename</code> come
nome di un file, <code>echo $filename</code> stampa il nome del file. Si
noti che non si può scrivere come:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="op">&gt;</span>     <span class="va">$filename</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>perché così la prima volta nel ciclo, quando <code>$filename</code>
si espande in <code>basilisk.dat</code>, la shell cercherebbe di
eseguire <code>basilisk.dat</code> come programma. Infine, la
combinazione <code>head</code> e <code>tail</code> seleziona le righe da
81 a 100 da qualsiasi file venga elaborato (assumendo che il file abbia
almeno 100 righe).</p>
<div id="spazi-nei-nomi" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="spazi-nei-nomi" class="callout-inner">
<h3 class="callout-title">Spazi nei nomi</h3>
<div class="callout-content">
<p>Gli spazi sono usati per separare gli elementi dell’elenco su cui si
vuole eseguire il ciclo. Se uno di questi elementi contiene un carattere
di spazio, dobbiamo circondarlo con le virgolette e fare la stessa cosa
con la nostra variabile loop. Supponiamo che i nostri file di dati si
chiamino:</p>
<pre class="source"><code>red dragon.dat
purple unicorn.dat</code></pre>
<p>Per eseguire il ciclo su questi file, occorre aggiungere i doppi
apici in questo modo:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="st">"red dragon.dat"</span> <span class="st">"purple unicorn.dat"</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="st">"</span><span class="va">$filename</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>È più semplice evitare di usare spazi (o altri caratteri speciali)
nei nomi dei file.</p>
<p>I file di cui sopra non esistono, quindi se si esegue il codice
precedente, il comando <code>head</code> non sarà in grado di trovarli;
tuttavia, il messaggio di errore restituito mostrerà il nome dei file
che si aspetta:</p>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>head: cannot open ‘red dragon.dat' for reading: No such file or directory
head: cannot open ‘purple unicorn.dat' for reading: No such file or directory</code></pre>
</div>
<p>Provate a rimuovere le virgolette intorno a <code>$filename</code>
nel ciclo precedente per vedere l’effetto delle virgolette sugli spazi.
Si noti che si ottiene un risultato dal comando loop per unicorn.dat
quando si esegue questo codice nella directory
<code>creatures</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>head: cannot open ‘red' for reading: No such file or directory
head: cannot open ‘dragon.dat' for reading: No such file or directory
head: cannot open ‘purple' for reading: No such file or directory
CGGTACCGAA
AAGGGTCGCG
CAAGTGTTCC
...</code></pre>
</div>
</div>
</div>
</div>
<p>Vogliamo modificare ciascuno dei file in
<code>shell-lesson-data/exercise-data/creatures</code>, ma anche salvare
una versione dei file originali. Vogliamo copiare i file originali in
nuovi file chiamati <code>original-basilisk.dat</code> e
<code>original-unicorn.dat</code>, per esempio. Non possiamo usare:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>perché si espanderebbe in:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> cp basilisk.dat minotaur.dat unicorn.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>Questo non avrebbe eseguito il backup dei nostri file, invece si
ottiene un errore:</p>
<div class="codewrapper">
<h3 class="code-label">ERRORE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>cp: target `original-*.dat' is not a directory</code></pre>
</div>
<p>Questo problema si presenta quando <code>cp</code> riceve più di due
input. Quando ciò accade, si aspetta che l’ultimo ingresso sia una
directory in cui copiare tutti i file che gli sono stati passati. Poiché
non esiste una directory denominata <code>original-*.dat</code> nella
directory <code>creatures</code>, si ottiene un errore.</p>
<p>Invece, possiamo usare un ciclo:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="op">&gt;</span>     cp <span class="va">$filename</span> original-<span class="va">$filename</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Questo ciclo esegue il comando <code>cp</code> una volta per ogni
nome di file. La prima volta, quando <code>$filename</code> si espande a
<code>basilisk.dat</code>, la shell esegue:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">cp</span> basilisk.dat original-basilisk.dat</span></code></pre>
</div>
<p>La seconda volta, il comando è:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">cp</span> minotaur.dat original-minotaur.dat</span></code></pre>
</div>
<p>La terza e ultima volta, il comando è:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">cp</span> unicorn.dat original-unicorn.dat</span></code></pre>
</div>
<p>Poiché il comando <code>cp</code> normalmente non produce alcun
output, è difficile verificare che il ciclo funzioni correttamente.
Tuttavia, abbiamo imparato in precedenza a stampare stringhe usando
<code>echo</code> e possiamo modificare il ciclo per usare
<code>echo</code> per stampare i nostri comandi senza eseguirli.
Possiamo quindi verificare quali comandi verrebbero eseguiti nel ciclo
non modificato.</p>
<p>Il diagramma seguente mostra cosa succede quando viene eseguito il
ciclo modificato e dimostra come l’uso giudizioso di <code>echo</code>
sia una buona tecnica di debug.</p>
<figure><img src="../fig/shell_script_for_loop_flow_chart.svg" alt='Il ciclo for "for filename in .dat; do echo cp $filename original-$filename;done" assegnerà successivamente i nomi di tutti i file ".dat" nella directory corrente alla variabile "$filename" e quindi eseguirà il comando. Con i file "basilisk.dat", "minotaur.dat" e "unicorn.dat" nella directory corrente, il ciclo richiamerà successivamente il comando echo tre volte e stamperà tre righe: "cp basislisk.dat original-basilisk.dat", poi "cp minotaur.datoriginal-minotaur.dat" e infine "cp unicorn.datoriginal-unicorn.dat"' class="figure mx-auto d-block"></figure><section><h2 class="section-heading" id="pipeline-di-nelle-elaborazione-dei-file">Pipeline di Nelle: Elaborazione dei file<a class="anchor" aria-label="anchor" href="#pipeline-di-nelle-elaborazione-dei-file"></a>
</h2>
<hr class="half-width">
<p>Nelle è ora pronta a elaborare i suoi file di dati usando
<code>goostats.sh</code> — uno script di shell scritto dal suo
supervisore. Questo calcola alcune statistiche da un file campione di
proteine e prende due argomenti:</p>
<ol style="list-style-type: decimal">
<li>un file di ingresso (contenente i dati grezzi)</li>
<li>un file di uscita (per memorizzare le statistiche calcolate)</li>
</ol>
<p>Poiché sta ancora imparando a usare la shell, decide di costruire i
comandi necessari per gradi. Il primo passo consiste nell’assicurarsi di
poter selezionare i giusti file di input — ricordate, questi sono quelli
i cui nomi terminano in ‘A’ o ‘B’, piuttosto che in ‘Z’. Spostandosi
nella directory <code>north-pacific-gyre</code>, Nelle digita:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/north-pacific-gyre</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">NENE01751A.txt</span></span>
<span></span>
<span><span class="va">...</span></span>
<span><span class="va">NENE02040B.txt</span></span>
<span><span class="va">NENE02043B.txt</span></span></code></pre>
</div>
<p>Il passo successivo è decidere come chiamare i file che il programma
di analisi <code>goostats.sh</code> creerà. Prefissare il nome di ogni
file di input con “stats” sembra semplice, quindi modifica il suo ciclo
per farlo:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01729A.txt stats-NENE01729A.txt
NENE01736A.txt stats-NENE01729A.txt
NENE01751A.txt stats-NENE01729A.txt
...
NENE02040B.txt stats-NENE02040B.txt
NENE02043B.txt stats-NENE02043B.txt</code></pre>
</div>
<p>Non ha ancora eseguito <code>goostats.sh</code>, ma ora è sicura di
poter selezionare i file giusti e generare i giusti nomi di file di
output.</p>
<p>Digitare più volte i comandi sta diventando noioso e Nelle è
preoccupata di commettere errori, quindi invece di rientrare nel ciclo,
preme <kbd>↑</kbd>. In risposta, la shell ripropone l’intero ciclo su
una riga (usando i punti e virgola per separare i pezzi):</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>Utilizzando il comando <kbd>←</kbd>, Nelle passa al comando
<code>echo</code> e lo cambia in <code>bash goostats.sh</code>:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>quando si preme <kbd>Invio</kbd>, la shell esegue il comando
modificato. Tuttavia, non sembra accadere nulla: non c’è output. Dopo un
attimo, Nelle si rende conto che, poiché il suo script non stampa più
nulla sullo schermo, non ha idea se sia in esecuzione, e tanto meno a
quale velocità. Uccide il comando in esecuzione digitando
<kbd>Ctrl</kbd>+<kbd>C</kbd>, usa <kbd>↑</kbd> per ripetere il comando e
lo modifica in modo da leggere:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span><span class="kw">;</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<div id="inizio-e-fine" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="inizio-e-fine" class="callout-inner">
<h3 class="callout-title">Inizio e fine</h3>
<div class="callout-content">
<p>Possiamo spostarci all’inizio di una riga nella shell digitando
<kbd>Ctrl</kbd>+<kbd>A</kbd> e alla fine usando
<kbd>Ctrl</kbd>+<kbd>E</kbd>.</p>
</div>
</div>
</div>
<p>Quando il programma viene eseguito ora, produce una riga di output
ogni cinque secondi circa:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">NENE01751A.txt</span></span>
<span><span class="va">...</span></span></code></pre>
</div>
<p>1518 per 5 secondi, diviso per 60, indica che il suo script
impiegherà circa due ore per essere eseguito. Come controllo finale,
apre un’altra finestra di terminale, entra in
<code>north-pacific-gyre</code> e usa
<code>cat stats-NENE01729B.txt</code> per esaminare uno dei file di
output. Sembra tutto a posto, quindi decide di prendere un caffè e di
mettersi in pari con la lettura.</p>
<div id="chi-conosce-la-storia-può-scegliere-di-ripeterla" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="chi-conosce-la-storia-può-scegliere-di-ripeterla" class="callout-inner">
<h3 class="callout-title">Chi conosce la storia può scegliere di ripeterla</h3>
<div class="callout-content">
<p>Un altro modo per ripetere il lavoro precedente è quello di usare il
comando <code>history</code> per ottenere un elenco delle ultime
centinaia di comandi eseguiti, e poi usare <code>!123</code> (dove ‘123’
è sostituito dal numero del comando) per ripetere uno di quei comandi.
Ad esempio, se Nelle digita questo:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>456  for datafile in NENE*A.txt NENE*B.txt; do   echo $datafile stats-$datafile; done
457  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile stats-$datafile; done
458  for datafile in NENE*A.txt NENE*B.txt; do bash goostats.sh $datafile stats-$datafile; done
459  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile; bash goostats.sh $datafile
stats-$datafile; done
460  history | tail -n 5</code></pre>
</div>
<p>quindi può eseguire nuovamente <code>goostats.sh</code> sui file
semplicemente digitando <code>!459</code>.</p>
</div>
</div>
</div>
<div id="altri-comandi-della-cronologia" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="altri-comandi-della-cronologia" class="callout-inner">
<h3 class="callout-title">Altri comandi della cronologia</h3>
<div class="callout-content">
<p>Esistono numerosi altri comandi di scelta rapida per accedere alla
cronologia.</p>
<ul>
<li>
<kbd>Ctrl</kbd>+<kbd>R</kbd> entra in modalità di ricerca nella
cronologia ‘reverse-i-search’ e trova il comando più recente nella
cronologia che corrisponde al testo inserito successivamente. Premere
<kbd>Ctrl</kbd>+<kbd>R</kbd> una o più volte per cercare le
corrispondenze precedenti. È quindi possibile utilizzare i tasti freccia
sinistra e destra per scegliere la riga e modificarla, quindi premere
<kbd>Return</kbd> per eseguire il comando.</li>
<li>
<code>!!</code> recupera il comando immediatamente precedente (si
può trovare o meno più conveniente che usare <kbd>↑</kbd>)</li>
<li>
<code>!$</code> recupera l’ultima parola dell’ultimo comando. Questo
è utile più spesso di quanto ci si possa aspettare: dopo
<code>bash goostats.sh NENE01729B.txt stats-NENE01729B.txt</code>, si
può digitare <code>less !$</code> per guardare il file
<code>stats-NENE01729B.txt</code>, il che è più veloce che fare
<kbd>↑</kbd> e modificare la riga di comando.</li>
</ul>
</div>
</div>
</div>
<div id="esecuzione-a-secco" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="esecuzione-a-secco" class="callout-inner">
<h3 class="callout-title">Esecuzione a secco</h3>
<div class="callout-content">
<p>Un ciclo è un modo per fare molte cose contemporaneamente — o per
fare molti errori contemporaneamente se fa la cosa sbagliata. Un modo
per verificare cosa farebbe un ciclo è quello di <code>echo</code> i
comandi che eseguirebbe invece di eseguirli effettivamente.</p>
<p>Supponiamo di voler vedere in anteprima i comandi che il seguente
ciclo eseguirà senza eseguirli effettivamente:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="op">&gt;</span>     cat <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Qual è la differenza tra i due cicli sottostanti e quale vogliamo
eseguire?</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Version 1</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="co"># Version 2</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="st">"cat </span><span class="va">$datafile</span><span class="st"> &gt;&gt; all.pdb"</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Soluzione
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<p>la seconda versione è quella che vogliamo eseguire. Questa stampa
sullo schermo tutto ciò che è racchiuso tra le virgolette, espandendo il
nome della variabile del ciclo perché lo abbiamo preceduto da un segno
di dollaro. Inoltre, non modifica e non crea il file
<code>all.pdb</code>, poiché <code>&gt;&gt;</code> viene trattato
letteralmente come parte di una stringa e non come un’istruzione di
reindirizzamento.</p>
<p>La prima versione aggiunge l’output del comando
<code>echo cat $datafile</code> al file <code>all.pdb</code>. Questo
file conterrà solo l’elenco: <code>cat cubane.pdb</code>,
<code>cat ethane.pdb</code>, <code>cat methane.pdb</code> ecc.</p>
<p>provate voi stessi entrambe le versioni per vedere l’output!
Assicurarsi di aprire il file <code>all.pdb</code> per visualizzarne il
contenuto.</p>
</div>
</div>
</div>
</div>
<div id="cicli-annidati" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="cicli-annidati" class="callout-inner">
<h3 class="callout-title">Cicli annidati</h3>
<div class="callout-content">
<p>Supponiamo di voler impostare una struttura di directory per
organizzare alcuni esperimenti di misurazione delle costanti di velocità
di reazione con diversi composti <em>e</em> diverse temperature. Quale
sarebbe il risultato del seguente codice:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> for species in cubane ethane methane</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="op">&gt;</span>     for <span class="ex">temperature</span> in 25 30 37 40</span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="op">&gt;</span>     do</span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="op">&gt;</span>         mkdir <span class="va">$species</span><span class="ex">-</span><span class="va">$temperature</span></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="op">&gt;</span>     done</span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Soluzione
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<p>Abbiamo un ciclo annidato, cioè contenuto all’interno di un altro
ciclo, quindi per ogni specie nel ciclo esterno, il ciclo interno (il
ciclo annidato) itera sull’elenco delle temperature e crea una nuova
directory per ogni combinazione.</p>
<p>provate voi stessi a eseguire il codice per vedere quali directory
vengono create!</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>Un ciclo <code>for</code> ripete i comandi una volta per ogni cosa
in un elenco.</li>
<li>Ogni ciclo <code>for</code> ha bisogno di una variabile per
riferirsi alla cosa su cui sta operando.</li>
<li>Usare <code>$name</code> per espandere una variabile (cioè per
ottenere il suo valore). si può usare anche <code>${name}</code>.</li>
<li>Non usare spazi, virgolette o caratteri jolly come ‘*’ o ‘?’ nei
nomi dei file, perché complicano l’espansione delle variabili.</li>
<li>Dare ai file nomi coerenti e facili da abbinare con i caratteri
jolly, per facilitarne la selezione per il loop.</li>
<li>Usare il tasto freccia su per scorrere i comandi precedenti e
modificarli e ripeterli.</li>
<li>Usare <kbd>Ctrl</kbd>+<kbd>R</kbd> per cercare tra i comandi
precedentemente inseriti.</li>
<li>Usare <code>history</code> per visualizzare i comandi recenti e
<code>![number]</code> per ripetere un comando per numero.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-06-script"><p>Content from <a href="06-script.html">Script di shell</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/06-script.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 45 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso salvare e riutilizzare i comandi?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Scrivere uno script di shell che esegua un comando o una serie di
comandi per un insieme fisso di file.</li>
<li>Eseguire uno script di shell dalla riga di comando.</li>
<li>Scrive uno script di shell che opera su un insieme di file definiti
dall’utente sulla riga di comando.</li>
<li>Creare pipeline che includano script di shell scritti da voi e da
altri.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Siamo finalmente pronti a vedere cosa rende la shell un ambiente di
programmazione così potente. Prenderemo i comandi che ripetiamo
frequentemente e li salveremo in file, in modo da poter rieseguire tutte
le operazioni in un secondo momento digitando un solo comando. Per
ragioni storiche, un gruppo di comandi salvati in un file viene
solitamente chiamato <strong>scritto di shell</strong>, ma non fatevi
ingannare: si tratta in realtà di piccoli programmi.</p>
<p>La scrittura di script di shell non solo renderà il lavoro più
veloce, ma eviterà anche di dover ridigitare gli stessi comandi più
volte. Inoltre, il lavoro sarà più accurato (meno possibilità di errori
di battitura) e più riproducibile. Se si torna al proprio lavoro in un
secondo momento (o se qualcun altro trova il proprio lavoro e vuole
basarsi su di esso), sarà possibile riprodurre gli stessi risultati
semplicemente eseguendo il proprio script, invece di dover ricordare o
digitare nuovamente un lungo elenco di comandi.</p>
<p>Iniziamo tornando a <code>alkanes/</code> e creando un nuovo file,
<code>middle.sh</code>, che diventerà il nostro script di shell:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd alkanes</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>Il comando <code>nano middle.sh</code> apre il file
<code>middle.sh</code> all’interno dell’editor di testo ‘nano’ (che
viene eseguito all’interno della shell). Se il file non esiste, verrà
creato. È possibile utilizzare l’editor di testo per modificare
direttamente il file inserendo la seguente riga:</p>
<pre class="source"><code>head -n 15 octane.pdb | tail -n 5</code></pre>
<p>Questa è una variante della pipe costruita in precedenza, che
seleziona le righe 11-15 del file <code>octane.pdb</code>. Ricordate che
non lo stiamo ancora eseguendo come comando; stiamo solo incorporando i
comandi in un file.</p>
<p>Poi si salva il file (<code>Ctrl-O</code> in nano) e si esce
dall’editor di testo (<code>Ctrl-X</code> in nano). Verificare che la
directory <code>alkanes</code> contenga ora un file chiamato
<code>middle.sh</code>.</p>
<p>Una volta salvato il file, possiamo chiedere alla shell di eseguire i
comandi in esso contenuti. La nostra shell si chiama <code>bash</code>,
quindi eseguiamo il seguente comando:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>Sicuramente l’output del nostro script è esattamente quello che
otterremmo se eseguissimo direttamente la pipeline.</p>
<div id="testo-vs.-qualsiasi-cosa" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="testo-vs.-qualsiasi-cosa" class="callout-inner">
<h3 class="callout-title">Testo vs. Qualsiasi cosa</h3>
<div class="callout-content">
<p>Di solito chiamiamo “editor di testo” programmi come Microsoft Word o
LibreOffice Writer, ma dobbiamo essere un po’ più attenti quando si
tratta di programmazione. Per impostazione predefinita, Microsoft Word
utilizza i file <code>.docx</code> per memorizzare non solo il testo, ma
anche le informazioni di formattazione relative a caratteri,
intestazioni e così via. Queste informazioni extra non sono memorizzate
come caratteri e non hanno alcun significato per strumenti come
<code>head</code>, che si aspetta che i file di input contengano solo le
lettere, le cifre e la punteggiatura di una tastiera standard. Quando si
modificano i programmi, quindi, è necessario utilizzare un editor di
testo normale o fare attenzione a salvare i file come testo normale.</p>
</div>
</div>
</div>
<p>E se volessimo selezionare delle righe da un file arbitrario?
Potremmo modificare <code>middle.sh</code> ogni volta per cambiare il
nome del file, ma questo probabilmente richiederebbe più tempo che
digitare nuovamente il comando nella shell ed eseguirlo con un nuovo
nome di file. Modifichiamo invece <code>middle.sh</code> e rendiamolo
più versatile:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>Ora, all’interno di “nano”, sostituire il testo
<code>octane.pdb</code> con la variabile speciale chiamata
<code>$1</code>:</p>
<pre class="source"><code>head -n 15 "$1" | tail -n 5</code></pre>
<p>All’interno di uno script di shell, <code>$1</code> significa “il
primo nome di file (o altro argomento) sulla riga di comando”. Ora
possiamo eseguire il nostro script in questo modo:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh octane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>o su un file diverso come questo:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<div id="doppie-virgolette-intorno-agli-argomenti" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="doppie-virgolette-intorno-agli-argomenti" class="callout-inner">
<h3 class="callout-title">Doppie virgolette intorno agli argomenti</h3>
<div class="callout-content">
<p>Per la stessa ragione per cui mettiamo la variabile loop tra
virgolette doppie, nel caso in cui il nome del file contenga spazi,
circondiamo <code>$1</code> con virgolette doppie.</p>
</div>
</div>
</div>
<p>Attualmente, dobbiamo modificare <code>middle.sh</code> ogni volta
che vogliamo regolare l’intervallo di righe che viene restituito.
Risolviamo questo problema configurando il nostro script in modo che
utilizzi tre argomenti della riga di comando. Dopo il primo argomento da
riga di comando (<code>$1</code>), ogni ulteriore argomento fornito sarà
accessibile tramite le variabili speciali <code>$1</code>,
<code>$2</code>, <code>$3</code>, che si riferiscono rispettivamente al
primo, secondo e terzo argomento da riga di comando.</p>
<p>Sapendo questo, possiamo usare argomenti aggiuntivi per definire
l’intervallo di righe da passare rispettivamente a <code>head</code> e
<code>tail</code>:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<pre class="source"><code>head -n "$2" "$1" | tail -n "$3"</code></pre>
<p>Ora possiamo eseguire:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 15 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<p>Cambiando gli argomenti del nostro comando, possiamo cambiare il
comportamento del nostro script:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 20 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM     14  H           1      -1.259   1.420   0.112  1.00  0.00
ATOM     15  H           1      -2.608  -0.407   1.130  1.00  0.00
ATOM     16  H           1      -2.540  -1.303  -0.404  1.00  0.00
ATOM     17  H           1      -3.393   0.254  -0.321  1.00  0.00
TER      18              1</code></pre>
</div>
<p>Questo funziona, ma la prossima persona che leggerà
<code>middle.sh</code> potrebbe metterci un attimo a capire cosa fa.
Possiamo migliorare il nostro script aggiungendo alcuni
<strong>commenti</strong> all’inizio:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<pre class="source"><code># Select lines from the middle of a file.
# Usage: bash middle.sh filename end_line num_lines
head -n "$2" "$1" | tail -n "$3"</code></pre>
<p>Un commento inizia con un carattere <code>#</code> e arriva fino alla
fine della riga. Il computer ignora i commenti, ma sono preziosi per
aiutare le persone (compreso il vostro futuro io) a capire e usare gli
script. L’unica avvertenza è che ogni volta che si modifica lo script,
bisogna controllare che il commento sia ancora corretto. Una spiegazione
che manda il lettore nella direzione sbagliata è peggiore di
nessuna.</p>
<p>Cosa succede se si vogliono elaborare molti file in una singola
pipeline? Per esempio, se vogliamo ordinare i nostri file
<code>.pdb</code> per lunghezza, digitiamo:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<p>perché <code>wc -l</code> elenca il numero di righe nei file
(ricordate che <code>wc</code> sta per “conteggio delle parole”,
aggiungendo l’opzione <code>-l</code> significa invece “conteggio delle
righe”) e <code>sort -n</code> ordina le cose numericamente. Si potrebbe
inserire in un file, ma in questo modo verrebbe ordinato solo un elenco
di file <code>.pdb</code> nella directory corrente. Se vogliamo essere
in grado di ottenere un elenco ordinato di altri tipi di file, abbiamo
bisogno di un modo per inserire tutti questi nomi nello script. Non
possiamo usare <code>$1</code>, <code>$2</code> e così via perché non
sappiamo quanti file ci sono. Si usa invece la variabile speciale
<code>$@</code>, che significa “Tutti gli argomenti della riga di
comando dello script di shell”. Si dovrebbe anche mettere
<code>$@</code> tra doppi apici per gestire il caso di argomenti
contenenti spazi (<code>"$@"</code> è una sintassi speciale ed è
equivalente a <code>"$1"</code> <code>"$2"</code> …).</p>
<p>Ecco un esempio:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> nano sorted.sh</span></code></pre>
</div>
<pre class="source"><code># Sort files by their length.
# Usage: bash sorted.sh one_or_more_filenames
wc -l "$@" | sort -n</code></pre>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> bash sorted.sh <span class="pp">*</span>.pdb ../creatures/<span class="pp">*</span>.dat</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>9 methane.pdb
12 ethane.pdb
15 propane.pdb
20 cubane.pdb
21 pentane.pdb
30 octane.pdb
163 ../creatures/basilisk.dat
163 ../creatures/minotaur.dat
163 ../creatures/unicorn.dat
596 total</code></pre>
</div>
<div id="elenco-delle-specie-uniche" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="elenco-delle-specie-uniche" class="callout-inner">
<h3 class="callout-title">Elenco delle specie uniche</h3>
<div class="callout-content">
<p>Leah ha diverse centinaia di file di dati, ognuno dei quali è
formattato in questo modo:</p>
<pre class="source"><code>2013-11-05,deer,5
2013-11-05,rabbit,22
2013-11-05,raccoon,7
2013-11-06,rabbit,19
2013-11-06,deer,2
2013-11-06,fox,1
2013-11-07,rabbit,18
2013-11-07,bear,1</code></pre>
<p>Un esempio di questo tipo di file è riportato in
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>.</p>
<p>Possiamo usare il comando
<code>cut -d , -f 2 animals.csv | sort | uniq</code> per produrre le
specie uniche in <code>animals.csv</code>. Per evitare di dover digitare
ogni volta questa serie di comandi, uno scienziato può scegliere di
scrivere uno script di shell.</p>
<p>Scrivere uno script di shell chiamato <code>species.sh</code> che
accetta un numero qualsiasi di nomi di file come argomenti della riga di
comando e utilizza una variante del comando precedente per stampare un
elenco delle specie uniche che compaiono in ciascuno di questi file
separatamente.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Soluzione
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Script to find unique species in csv files where species is the second data field</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="co"># This script accepts any number of file names as command line arguments</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="co"># Loop over all files</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="va">$@</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Unique species in </span><span class="va">$file</span><span class="st">:"</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>    <span class="co"># Extract species names</span></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>    <span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 <span class="va">$file</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Supponiamo di aver appena eseguito una serie di comandi che hanno
fatto qualcosa di utile, ad esempio la creazione di un grafico che
vorremmo utilizzare in un articolo. Se vogliamo essere in grado di
ricreare il grafico in un secondo momento, vogliamo salvare i comandi in
un file. Invece di digitarli di nuovo (e potenzialmente sbagliarli),
possiamo fare così:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> redo-figure-3.sh</span></code></pre>
</div>
<p>Il file <code>redo-figure-3.sh</code> ora contiene:</p>
<pre class="source"><code>297 bash goostats.sh NENE01729B.txt stats-NENE01729B.txt
298 bash goodiff.sh stats-NENE01729B.txt /data/validated/01729.txt &gt; 01729-differences.txt
299 cut -d ',' -f 2-3 01729-differences.txt &gt; 01729-time-series.txt
300 ygraph --format scatter --color bw --borders none 01729-time-series.txt figure-3.png
301 history | tail -n 5 &gt; redo-figure-3.sh</code></pre>
<p>Dopo un attimo di lavoro in un editor per rimuovere i numeri di serie
sui comandi e per rimuovere la riga finale in cui abbiamo chiamato il
comando <code>history</code>, abbiamo una registrazione completamente
accurata di come abbiamo creato la figura.</p>
<div id="perché-registrare-i-comandi-nella-cronologia-prima-di-eseguirli" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="perché-registrare-i-comandi-nella-cronologia-prima-di-eseguirli" class="callout-inner">
<h3 class="callout-title">Perché registrare i comandi nella cronologia prima di eseguirli?</h3>
<div class="callout-content">
<p>Se si esegue il comando:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> recent.sh</span></code></pre>
</div>
<p>l’ultimo comando nel file è il comando <code>history</code> stesso,
cioè la shell ha aggiunto <code>history</code> al registro dei comandi
prima di eseguirlo. In effetti, la shell aggiunge <em>sempre</em>
comandi al log prima di eseguirli. Perché pensate che lo faccia?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Soluzione
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Se un comando provoca un arresto anomalo o un blocco, potrebbe essere
utile sapere qual è il comando in questione, per poter indagare sul
problema. Se il comando venisse registrato solo dopo la sua esecuzione,
non avremmo una registrazione dell’ultimo comando eseguito in caso di
crash.</p>
</div>
</div>
</div>
</div>
<p>In pratica, la maggior parte delle persone sviluppa script di shell
eseguendo i comandi al prompt della shell un paio di volte per
assicurarsi che stiano facendo la cosa giusta, poi li salva in un file
per riutilizzarli. Questo stile di lavoro consente di riciclare ciò che
si scopre sui propri dati e sul proprio flusso di lavoro con una sola
chiamata a <code>history</code> e un po’ di modifiche per ripulire
l’output e salvarlo come script di shell.</p>
<section><h2 class="section-heading" id="pipeline-di-nelle-creazione-di-uno-script">Pipeline di Nelle: Creazione di uno script<a class="anchor" aria-label="anchor" href="#pipeline-di-nelle-creazione-di-uno-script"></a>
</h2>
<hr class="half-width">
<p>Il supervisore di Nelle ha insistito sul fatto che tutte le sue
analisi devono essere riproducibili. Il modo più semplice per catturare
tutti i passaggi è uno script.</p>
<p>Per prima cosa torniamo alla directory del progetto di Nelle:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> cd ../../north-pacific-gyre/</span></code></pre>
</div>
<p>Crea un file usando <code>nano</code> …</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> nano do-stats.sh</span></code></pre>
</div>
<p>… che contiene quanto segue:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Salva il tutto in un file chiamato <code>do-stats.sh</code>, in modo
da poter rifare la prima fase della sua analisi digitando:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>Può anche fare questo:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code></pre>
</div>
<p>in modo che l’output sia solo il numero di file elaborati piuttosto
che i nomi dei file elaborati.</p>
<p>Una cosa da notare dello script di Nelle è che lascia che sia la
persona che lo esegue a decidere quali file elaborare. Avrebbe potuto
scriverlo come:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="co"># Calculate stats for Site A and Site B data files.</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Il vantaggio è che in questo modo si selezionano sempre i file
giusti, senza doversi ricordare di escludere i file “Z”. Lo svantaggio è
che seleziona <em>sempre</em> solo quei file — non può eseguirlo su
tutti i file (compresi i file ‘Z’), o sui file ‘G’ o ‘H’ che i suoi
colleghi in Antartide stanno producendo, senza modificare lo script. Se
volesse essere più avventurosa, potrebbe modificare il suo script per
verificare la presenza di argomenti da riga di comando e usare
<code>NENE*A.txt NENE*B.txt</code> se non ne vengono forniti.
Naturalmente, questo introduce un altro compromesso tra flessibilità e
complessità.</p>
<div id="variabili-negli-script-di-shell" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variabili-negli-script-di-shell" class="callout-inner">
<h3 class="callout-title">Variabili negli script di shell</h3>
<div class="callout-content">
<p>Nella directory <code>alkanes</code>, immaginate di avere uno script
di shell chiamato <code>script.sh</code> contenente i seguenti
comandi:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> <span class="va">$2</span> <span class="va">$1</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> <span class="va">$3</span> <span class="va">$1</span></span></code></pre>
</div>
<p>Mentre ci si trova nella directory <code>alkanes</code>, si digita il
seguente comando:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> bash script.sh <span class="st">'*.pdb'</span> 1 1</span></code></pre>
</div>
<p>Quale dei seguenti risultati vi aspettereste di vedere?</p>
<ol style="list-style-type: decimal">
<li>Tutte le righe tra la prima e l’ultima di ogni file che termina con
<code>.pdb</code> nella directory <code>alkanes</code>
</li>
<li>La prima e l’ultima riga di ogni file che termina con
<code>.pdb</code> nella directory <code>alkanes</code>
</li>
<li>La prima e l’ultima riga di ogni file nella directory
<code>alkanes</code>
</li>
<li>Errore a causa delle virgolette intorno a <code>*.pdb</code>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Soluzione
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>la risposta corretta è 2.</p>
<p>Le variabili speciali <code>$1</code>, <code>$2</code> e
<code>$3</code> rappresentano gli argomenti della riga di comando dati
allo script, in modo che i comandi eseguiti siano:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span></code></pre>
</div>
<p>La shell non espande <code>'*.pdb'</code> perché è racchiuso tra
virgolette. Pertanto, il primo argomento dello script è
<code>'*.pdb'</code> che viene espanso all’interno dello script da
<code>head</code> e <code>tail</code>.</p>
</div>
</div>
</div>
</div>
<div id="trova-il-file-più-lungo-con-una-data-estensione" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="trova-il-file-più-lungo-con-una-data-estensione" class="callout-inner">
<h3 class="callout-title">Trova il file più lungo con una data estensione</h3>
<div class="callout-content">
<p>Scrivere uno script di shell chiamato <code>longest.sh</code> che
prenda come argomenti il nome di una directory e l’estensione di un nome
di file e stampi il nome del file con il maggior numero di righe in
quella directory con quell’estensione. Ad esempio:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/alkanes pdb</span></code></pre>
</div>
<p>stamperebbe il nome del file <code>.pdb</code> in
<code>shell-lesson-data/exercise-data/alkanes</code> che ha il maggior
numero di righe.</p>
<p>Sentitevi liberi di testare il vostro script su un’altra directory,
ad es.</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/writing txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Soluzione
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Shell script which takes two arguments:</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="co">#    1. a directory name</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="co">#    2. a file extension</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="co"># and prints the name of the file in that directory</span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="co"># with the most lines which matches the file extension.</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$1</span>/<span class="pp">*</span>.<span class="va">$2</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 2 <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<p>La prima parte della pipeline, <code>wc -l $1/*.$2 | sort -n</code>,
conta le righe di ogni file e le ordina numericamente (la più grande per
ultima). Quando c’è più di un file, <code>wc</code> produce anche una
riga finale di riepilogo, che dà il numero totale di righe in
<em>tutti</em> i file. Si usa <code>tail -n 2 | head -n 1</code> per
eliminare quest’ultima riga.</p>
<p>Con <code>wc -l $1/*.$2 | sort -n | tail -n 1</code> vedremo la riga
di riepilogo finale: possiamo costruire la nostra pipeline a pezzi per
essere sicuri di capire l’output.</p>
</div>
</div>
</div>
</div>
<div id="comprensione-della-lettura-degli-script" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comprensione-della-lettura-degli-script" class="callout-inner">
<h3 class="callout-title">Comprensione della lettura degli script</h3>
<div class="callout-content">
<p>Per questa domanda, consideriamo ancora una volta la directory
<code>shell-lesson-data/exercise-data/alkanes</code>. Questa contiene
una serie di file <code>.pdb</code> oltre ad altri file eventualmente
creati. Spiegare che cosa farebbe ciascuno dei tre script seguenti se
eseguito rispettivamente come <code>bash script1.sh *.pdb</code>,
<code>bash script2.sh *.pdb</code> e
<code>bash script3.sh *.pdb</code>.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Script 1</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="bu">echo</span> <span class="pp">*</span>.<span class="pp">*</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Script 2</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="va">$1</span> <span class="va">$2</span> <span class="va">$3</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$filename</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co"># Script 3</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$@</span>.pdb</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Soluzioni
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>In ogni caso, la shell espande il carattere jolly in
<code>*.pdb</code> prima di passare l’elenco risultante di nomi di file
come argomenti allo script.</p>
<p>Lo script 1 stampa un elenco di tutti i file che contengono un punto
nel loro nome. Gli argomenti passati allo script non vengono utilizzati
in nessun punto dello script.</p>
<p>Lo script 2 stampa il contenuto dei primi 3 file con estensione
<code>.pdb</code>. <code>$1</code>, <code>$2</code> e <code>$3</code> si
riferiscono rispettivamente al primo, al secondo e al terzo
argomento.</p>
<p>Lo script 3 stamperebbe tutti gli argomenti dello script (cioè tutti
i file <code>.pdb</code>), seguiti da <code>.pdb</code>. <code>$@</code>
si riferisce a <em>tutti</em> gli argomenti dati a uno script di
shell.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb ethane.pdb methane.pdb octane.pdb pentane.pdb propane.pdb.pdb</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="script-di-debug" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="script-di-debug" class="callout-inner">
<h3 class="callout-title">Script di Debug</h3>
<div class="callout-content">
<p>Si supponga di aver salvato il seguente script in un file chiamato
<code>do-errors.sh</code> nella directory
<code>north-pacific-gyre</code> di Nelle:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datfile</span></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Quando lo si esegue dalla directory
<code>north-pacific-gyre</code>:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> bash do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>l’output è vuoto. Per capirne il motivo, rieseguire lo script
utilizzando l’opzione <code>-x</code>:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> bash <span class="at">-x</span> do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>Cosa mostra l’output? Quale riga è responsabile dell’errore?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Soluzione
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>L’opzione <code>-x</code> fa sì che <code>bash</code> venga eseguito
in modalità di debug. In questo modo viene stampato ogni comando man
mano che viene eseguito, il che aiuta a individuare gli errori. In
questo esempio, possiamo vedere che <code>echo</code> non sta stampando
nulla. Abbiamo commesso un errore di battitura nel nome della variabile
del ciclo e la variabile <code>datfile</code> non esiste, quindi
restituisce una stringa vuota.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>Salva i comandi in file (di solito chiamati script di shell) per
riutilizzarli.</li>
<li>
<code>bash [filename]</code> esegue i comandi salvati in un
file.</li>
<li>
<code>$@</code> si riferisce a tutti gli argomenti della riga di
comando di uno script di shell.</li>
<li>
<code>$1</code>, <code>$2</code>, ecc. si riferiscono al primo
argomento della riga di comando, al secondo argomento della riga di
comando, ecc.</li>
<li>Mettere le variabili tra virgolette se i valori possono contenere
spazi.</li>
<li>Lasciare che siano gli utenti a decidere quali file elaborare è più
flessibile e più coerente con i comandi Unix integrati.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-07-find"><p>Content from <a href="07-find.html">Trovare le cose</a></p>
<hr>
<p>Ultimo aggiornamento il 2025-04-03 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/07-find.md" class="external-link">Modifica questa pagina <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tempo stimato: <i aria-hidden="true" data-feather="clock"></i> 45 minuti</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Espandi Tutte le Soluzioni " data-collapse="Nascondi Tutte le Soluzioni "> Espandi Tutte le Soluzioni <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Panoramica</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Domande</h3>
<ul>
<li>Come posso trovare i file?</li>
<li>Come posso trovare le cose nei file?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Obiettivi</h3>
<ul>
<li>Usare <code>grep</code> per selezionare righe da file di testo che
corrispondono a modelli semplici.</li>
<li>Usare <code>find</code> per trovare file e directory i cui nomi
corrispondono a schemi semplici.</li>
<li>Utilizzare l’output di un comando come argomento della riga di
comando di un altro comando.</li>
<li>Spiegare cosa si intende per file “di testo” e “binari” e perché
molti strumenti comuni non gestiscono bene questi ultimi.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Allo stesso modo in cui molti di noi usano ‘Google’ come verbo che
significa ‘trovare’, i programmatori Unix usano spesso la parola ‘grep’.
‘grep’ è una contrazione di ‘global/regular expression/print’, una
sequenza comune di operazioni nei primi editor di testo Unix. È anche il
nome di un programma a riga di comando molto utile.</p>
<p><code>grep</code> trova e stampa le righe dei file che corrispondono
a uno schema. Per i nostri esempi, useremo un file che contiene tre
haiku tratti da un <a href="https://web.archive.org/web/19991201042211/http://salon.com/21st/chal/1998/01/26chal.html" class="external-link">concorso
1998</a> della rivista <em>Salon</em> (merito degli autori Bill Torcaso,
Howard Korder e Margaret Segall, rispettivamente. Si vedano i messaggi
di errore Haiku archiviati <a href="https://web.archive.org/web/20000310061355/http://www.salon.com/21st/chal/1998/02/10chal2.html" class="external-link">Pagina
1</a> e <a href="https://web.archive.org/web/20000229135138/http://www.salon.com/21st/chal/1998/02/10chal3.html" class="external-link">Pagina
2</a>). Per questa serie di esempi, lavoreremo nella sottodirectory
della scrittura:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/exercise-data/writing</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">$</span> cat haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
Is not the true Tao, until
You bring fresh toner.

With searching comes loss
and the presence of absence:
"My Thesis" not found.

Yesterday it worked
Today it is not working
Software is like that.</code></pre>
</div>
<p>Troviamo le righe che contengono la parola “non”:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> grep not haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Is not the true Tao, until
"My Thesis" not found
Today it is not working</code></pre>
</div>
<p>Qui, <code>not</code> è lo schema che stiamo cercando. Il comando
grep cerca nel file le corrispondenze con lo schema specificato. Per
utilizzarlo, digitare <code>grep</code>, quindi lo schema che si vuole
cercare e infine il nome del file (o dei file) in cui si vuole
effettuare la ricerca.</p>
<p>L’output è costituito dalle tre righe del file che contengono le
lettere “non”.</p>
<p>Per impostazione predefinita, grep cerca un modello in modo sensibile
alle maiuscole e alle minuscole. Inoltre, il modello di ricerca
selezionato non deve necessariamente formare una parola completa, come
vedremo nel prossimo esempio.</p>
<p>Cerchiamo il modello: ‘Il’.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> grep The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
"My Thesis" not found.</code></pre>
</div>
<p>Questa volta vengono prodotte due righe che includono le lettere
“The”, una delle quali conteneva il nostro modello di ricerca
all’interno di una parola più grande, “Thesis”.</p>
<p>Per limitare le corrispondenze alle righe contenenti la parola ‘The’
da sola, si può dare a <code>grep</code> l’opzione <code>-w</code>.
Questo limiterà le corrispondenze ai confini della parola.</p>
<p>Più avanti in questa lezione vedremo anche come modificare il
comportamento di ricerca di grep rispetto alla sensibilità alle
maiuscole.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen</code></pre>
</div>
<p>Si noti che un “confine di parola” include l’inizio e la fine di una
riga, quindi non solo le lettere circondate da spazi. A volte non si
vuole cercare una singola parola, ma una frase. È possibile farlo anche
con <code>grep</code>, mettendo la frase tra virgolette.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> <span class="st">"is not"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Today it is not working</code></pre>
</div>
<p>Abbiamo visto che non è necessario mettere le virgolette intorno alle
singole parole, ma è utile usare le virgolette quando si cercano più
parole. Inoltre, aiuta a distinguere più facilmente tra il termine o la
frase di ricerca e il file ricercato. Negli altri esempi utilizzeremo le
virgolette.</p>
<p>Un’altra opzione utile è <code>-n</code>, che numera le righe
corrispondenti:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="st">"it"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>5:With searching comes loss
9:Yesterday it worked
10:Today it is not working</code></pre>
</div>
<p>Qui possiamo vedere che le righe 5, 9 e 10 contengono le lettere
“it”.</p>
<p>Possiamo combinare le opzioni (cioè i flag) come facciamo con altri
comandi Unix. Per esempio, cerchiamo di trovare le righe che contengono
la parola “il”. Possiamo combinare l’opzione <code>-w</code> per trovare
le righe che contengono la parola ‘the’ e <code>-n</code> per numerare
le righe che corrispondono:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ora vogliamo usare l’opzione <code>-i</code> per rendere la nostra
ricerca insensibile alle maiuscole e alle minuscole:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-i</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ora vogliamo usare l’opzione <code>-v</code> per invertire la nostra
ricerca, cioè vogliamo produrre le righe che non contengono la parola
‘the’.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-v</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
3:You bring fresh toner.
4:
5:With searching comes loss
7:"My Thesis" not found.
8:
9:Yesterday it worked
10:Today it is not working
11:Software is like that.</code></pre>
</div>
<p>Se si usa l’opzione <code>-r</code> (ricorsiva), <code>grep</code>
può cercare un modello in modo ricorsivo in un insieme di file in
sottodirectory.</p>
<p>Cerchiamo ricorsivamente <code>Yesterday</code> nella directory
<code>shell-lesson-data/exercise-data/writing</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-r</span> Yesterday .</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./LittleWomen.txt:"Yesterday, when Aunt was asleep and I was trying to be as still as a
./LittleWomen.txt:Yesterday at dinner, when an Austrian officer stared at us and then
./LittleWomen.txt:Yesterday was a quiet day spent in teaching, sewing, and writing in my
./haiku.txt:Yesterday it worked</code></pre>
</div>
<p><code>grep</code> ha molte altre opzioni. Per scoprire quali sono, si
può digitare:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: grep [OPTION]... PATTERN [FILE]...
Search for PATTERN in each FILE or standard input.
PATTERN is, by default, a basic regular expression (BRE).
Example: grep -i 'hello world' menu.h main.c

Regexp selection and interpretation:
  -E, --extended-regexp     PATTERN is an extended regular expression (ERE)
  -F, --fixed-strings       PATTERN is a set of newline-separated fixed strings
  -G, --basic-regexp        PATTERN is a basic regular expression (BRE)
  -P, --perl-regexp         PATTERN is a Perl regular expression
  -e, --regexp=PATTERN      use PATTERN for matching
  -f, --file=FILE           obtain PATTERN from FILE
  -i, --ignore-case         ignore case distinctions
  -w, --word-regexp         force PATTERN to match only whole words
  -x, --line-regexp         force PATTERN to match only whole lines
  -z, --null-data           a data line ends in 0 byte, not newline

Miscellaneous:
...        ...        ...</code></pre>
</div>
<div id="uso-di-grep" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="uso-di-grep" class="callout-inner">
<h3 class="callout-title">Uso di <code>grep</code>
</h3>
<div class="callout-content">
<p>Quale comando produrrebbe il seguente output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>and the presence of absence:</code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>grep "of" haiku.txt</code></li>
<li><code>grep -E "of" haiku.txt</code></li>
<li><code>grep -w "of" haiku.txt</code></li>
<li><code>grep -i "of" haiku.txt</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Soluzione
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>La risposta corretta è 3, perché l’opzione <code>-w</code> cerca solo
le corrispondenze con le parole intere. Le altre opzioni corrispondono
anche a “di” quando è parte di un’altra parola.</p>
</div>
</div>
</div>
</div>
<div id="caratteri-jolly" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caratteri-jolly" class="callout-inner">
<h3 class="callout-title">Caratteri jolly</h3>
<div class="callout-content">
<p>la vera potenza di <code>grep</code> non deriva dalle sue opzioni, ma
dal fatto che i pattern possono includere caratteri jolly. (Il nome
tecnico di queste espressioni è <strong>espressioni regolari</strong>,
che è il significato di “re” in “grep”) Le espressioni regolari sono
complesse e potenti; se volete fare ricerche complesse, consultate la
lezione su <a href="https://librarycarpentry.org/lc-data-intro/01-regular-expressions.html" class="external-link">il
nostro sito web</a>. Come assaggio, possiamo trovare le righe che hanno
una ‘o’ in seconda posizione come questa:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-E</span> <span class="st">"^.o"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>You bring fresh toner.
Today it is not working
Software is like that.</code></pre>
</div>
<p>Usiamo l’opzione <code>-E</code> e mettiamo il pattern tra virgolette
per evitare che la shell cerchi di interpretarlo. (Se il pattern
contenesse un <code>*</code>, per esempio, la shell cercherebbe di
espanderlo prima di eseguire <code>grep</code>) Il <code>^</code> nel
pattern fissa la corrispondenza all’inizio della riga. La <code>.</code>
corrisponde a un singolo carattere (proprio come la <code>?</code> nella
shell), mentre la <code>o</code> corrisponde a una “o” vera e
propria.</p>
</div>
</div>
</div>
<div id="tracciare-una-specie" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="tracciare-una-specie" class="callout-inner">
<h3 class="callout-title">Tracciare una specie</h3>
<div class="callout-content">
<p>Leah ha diverse centinaia di file di dati salvati in una directory,
ognuno dei quali è formattato come segue:</p>
<pre class="source"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-06,fox,4
2012-11-07,rabbit,16
2012-11-07,bear,1</code></pre>
<p>Vuole scrivere uno script di shell che prenda una specie come primo
argomento della riga di comando e una directory come secondo argomento.
Lo script dovrebbe restituire un file chiamato
<code>&lt;species&gt;.txt</code> contenente un elenco di date e il
numero di specie osservate in ciascuna data. Ad esempio, utilizzando i
dati mostrati sopra, <code>rabbit.txt</code> conterrebbe:</p>
<pre class="source"><code>2012-11-05,22
2012-11-06,19
2012-11-07,16</code></pre>
<p>Di seguito, ogni riga contiene un singolo comando, o pipe.
Organizzare la loro sequenza in un comando per raggiungere l’obiettivo
di Leah:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="op">&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="kw">|</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="kw">|</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="va">$1</span><span class="ex">.txt</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3</span></code></pre>
</div>
<p>Suggerimento: usare <code>man grep</code> per cercare come grepare il
testo in modo ricorsivo in una directory e <code>man cut</code> per
selezionare più di un campo in una riga.</p>
<p>Un esempio di tale file è fornito in
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code></p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Soluzione
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<pre class="source"><code>grep -w $1 -r $2 | cut -d : -f 2 | cut -d , -f 1,3 &gt; $1.txt</code></pre>
<p>In realtà, è possibile scambiare l’ordine dei due comandi di taglio e
funziona ancora. Alla riga di comando, provate a cambiare l’ordine dei
comandi di taglio e date un’occhiata all’output di ogni passaggio per
capire perché è così.</p>
<p>Lo script precedente viene chiamato in questo modo:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> bash count-species.sh bear .</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="piccole-donne" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="piccole-donne" class="callout-inner">
<h3 class="callout-title">Piccole donne</h3>
<div class="callout-content">
<p>Tu e la tua amica, dopo aver appena finito di leggere <em>Piccole
donne</em> di Louisa May Alcott, state discutendo. Delle quattro sorelle
del libro, Jo, Meg, Beth e Amy, la vostra amica pensa che Jo sia la più
citata. Voi, invece, siete certi che si tratti di Amy. Fortunatamente si
dispone di un file <code>LittleWomen.txt</code> contenente il testo
completo del romanzo
(<code>shell-lesson-data/exercise-data/writing/LittleWomen.txt</code>).
Utilizzando un ciclo <code>for</code>, come si potrebbe tabulare il
numero di volte in cui ciascuna delle quattro sorelle viene
menzionata?</p>
<p>Suggerimento: una soluzione potrebbe utilizzare i comandi
<code>grep</code> e <code>wc</code> e un <code>|</code>, mentre un’altra
potrebbe utilizzare le opzioni <code>grep</code>. Spesso esiste più di
un modo per risolvere un compito di programmazione, quindi una
particolare soluzione viene solitamente scelta in base a una
combinazione di risultati corretti, eleganza, leggibilità e
velocità.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Soluzioni
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
    echo $sis:
    grep -ow $sis LittleWomen.txt | wc -l
done</code></pre>
<p>Soluzione alternativa, leggermente inferiore:</p>
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
    echo $sis:
    grep -ocw $sis LittleWomen.txt
done</code></pre>
<p>Questa soluzione è inferiore perché <code>grep -c</code> riporta solo
il numero di righe corrispondenti. Il numero totale di corrispondenze
riportato da questo metodo sarà inferiore se c’è più di una
corrispondenza per riga.</p>
<p>Gli osservatori più attenti avranno notato che i nomi dei personaggi
a volte appaiono in tutte le maiuscole nei titoli dei capitoli (per
esempio, “MEG VA ALLA FIERA DELLA VANITÀ”). Se si volesse contare anche
questi, si potrebbe aggiungere l’opzione <code>-i</code> per
l’insensibilità alle maiuscole e minuscole (anche se in questo caso non
influisce sulla risposta a quale sorella è menzionata più
frequentemente).</p>
</div>
</div>
</div>
</div>
<p>Mentre <code>grep</code> trova le righe nei file, il comando
<code>find</code> trova i file stessi. Anche in questo caso, ha molte
opzioni; per mostrare come funzionano le più semplici, useremo l’albero
di directory <code>shell-lesson-data/exercise-data</code> mostrato di
seguito.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
├── animal-counts/
│   └── animals.csv
├── creatures/
│   ├── basilisk.dat
│   ├── minotaur.dat
│   └── unicorn.dat
├── numbers.txt
├── alkanes/
│   ├── cubane.pdb
│   ├── ethane.pdb
│   ├── methane.pdb
│   ├── octane.pdb
│   ├── pentane.pdb
│   └── propane.pdb
└── writing/
    ├── haiku.txt
    └── LittleWomen.txt</code></pre>
</div>
<p>La directory <code>exercise-data</code> contiene un file,
<code>numbers.txt</code> e quattro directory:
<code>animal-counts</code>, <code>creatures</code>, <code>alkanes</code>
e <code>writing</code> contenenti vari file.</p>
<p>Per il nostro primo comando, eseguiamo <code>find .</code> (ricordate
di eseguire questo comando dalla cartella
<code>shell-lesson-data/exercise-data</code>).</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> find .</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">basilisk.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">unicorn.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">minotaur.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span><span class="op">/</span><span class="va">animals.csv</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">ethane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">propane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">octane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">pentane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">methane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">cubane.pdb</span></span></code></pre>
</div>
<p>Come sempre, <code>.</code> da solo significa la directory di lavoro
corrente, che è il punto da cui vogliamo iniziare la nostra ricerca.
l’output di <code>find</code> è il nome di ogni file <strong>e</strong>
directory sotto la directory di lavoro corrente. All’inizio può sembrare
inutile, ma <code>find</code> ha molte opzioni per filtrare l’output e
in questa lezione ne scopriremo alcune.</p>
<p>La prima opzione del nostro elenco è <code>-type d</code> che
significa “cose che sono directory”. Certamente, l’output di
<code>find</code> è il nome delle cinque directory (inclusa
<code>.</code>):</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> d</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span></span></code></pre>
</div>
<p>Si noti che gli oggetti trovati da <code>find</code> non sono
elencati in un ordine particolare. Se si cambia <code>-type d</code> con
<code>-type f</code>, si ottiene invece un elenco di tutti i file:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> f</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">basilisk.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">unicorn.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">minotaur.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span><span class="op">/</span><span class="va">animals.csv</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">ethane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">propane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">octane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">pentane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">methane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">cubane.pdb</span></span></code></pre>
</div>
<p>Ora proviamo a fare una corrispondenza per nome:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span></code></pre>
</div>
<p>Ci si aspettava che trovasse tutti i file di testo, ma stampa solo
<code>./numbers.txt</code>. Il problema è che la shell espande i
caratteri jolly come <code>*</code> <em>prima</em> dell’esecuzione dei
comandi. Poiché <code>*.txt</code> nella directory corrente si espande a
<code>./numbers.txt</code>, il comando effettivamente eseguito è
stato:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> numbers.txt</span></code></pre>
</div>
<p><code>find</code> ha fatto quello che abbiamo chiesto; abbiamo solo
chiesto la cosa sbagliata.</p>
<p>Per ottenere ciò che vogliamo, facciamo come con <code>grep</code>:
mettiamo <code>*.txt</code> tra virgolette per evitare che la shell
espanda il carattere jolly <code>*</code>. In questo modo,
<code>find</code> ottiene effettivamente il pattern <code>*.txt</code>,
non il nome del file espanso <code>numbers.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="st">"*.txt"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span></code></pre>
</div>
<div id="elenco-vs.-ricerca" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="elenco-vs.-ricerca" class="callout-inner">
<h3 class="callout-title">Elenco vs. ricerca</h3>
<div class="callout-content">
<p><code>ls</code> e <code>find</code> possono fare cose simili con le
giuste opzioni, ma in circostanze normali, <code>ls</code> elenca tutto
ciò che può, mentre <code>find</code> cerca cose con certe proprietà e
le mostra.</p>
</div>
</div>
</div>
<p>Come abbiamo detto prima, la potenza della riga di comando sta nel
combinare gli strumenti. Abbiamo visto come farlo con le pipe; vediamo
un’altra tecnica. Come abbiamo appena visto,
<code>find . -name "*.txt"</code> ci fornisce un elenco di tutti i file
di testo presenti nella directory corrente o al di sotto di essa. Come
possiamo combinarlo con <code>wc -l</code> per contare le righe in tutti
questi file?</p>
<p>Il modo più semplice è quello di inserire il comando
<code>find</code> all’interno di <code>$()</code>:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.txt"</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  21022 ./writing/LittleWomen.txt
     11 ./writing/haiku.txt
      5 ./numbers.txt
  21038 total</code></pre>
</div>
<p>Quando la shell esegue questo comando, la prima cosa che fa è
eseguire qualsiasi cosa si trovi all’interno della <code>$()</code>.
Quindi sostituisce l’espressione <code>$()</code> con l’output di quel
comando. Poiché l’output di <code>find</code> è costituito dai tre nomi
di file <code>./writing/LittleWomen.txt</code>,
<code>./writing/haiku.txt</code> e <code>./numbers.txt</code>, la shell
costruisce il comando:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> ./writing/LittleWomen.txt ./writing/haiku.txt ./numbers.txt</span></code></pre>
</div>
<p>che è quello che volevamo. Questa espansione è esattamente ciò che fa
la shell quando espande i caratteri jolly come <code>*</code> e
<code>?</code>, ma ci permette di usare qualsiasi comando come nostro
‘carattere jolly’.</p>
<p>È molto comune usare <code>find</code> e <code>grep</code> insieme.
Il primo trova i file che corrispondono a uno schema; il secondo cerca
le righe all’interno di quei file che corrispondono a un altro schema.
Qui, per esempio, possiamo trovare i file txt che contengono la parola
“searching” cercando la stringa ‘searching’ in tutti i file
<code>.txt</code> nella directory corrente:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="st">"searching"</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.txt"</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./writing/LittleWomen.txt:sitting on the top step, affected to be searching for her book, but was
./writing/haiku.txt:With searching comes loss</code></pre>
</div>
<div id="corrispondenza-e-sottrazione" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="corrispondenza-e-sottrazione" class="callout-inner">
<h3 class="callout-title">Corrispondenza e sottrazione</h3>
<div class="callout-content">
<p>L’opzione <code>-v</code> di <code>grep</code> inverte la
corrispondenza dei pattern, in modo che vengano stampate solo le righe
che <em>non</em> corrispondono al pattern. In base a ciò, quale dei
seguenti comandi troverà tutti i file .dat in <code>creatures</code>
tranne che in <code>unicorn.dat</code>? Dopo aver pensato alla risposta,
si possono testare i comandi nella directory
<code>shell-lesson-data/exercise-data</code>.</p>
<ol style="list-style-type: decimal">
<li><code>find creatures -name "*.dat" | grep -v unicorn</code></li>
<li><code>find creatures -name *.dat | grep -v unicorn</code></li>
<li><code>grep -v "unicorn" $(find creatures -name "*.dat")</code></li>
<li>Nessuno dei precedenti.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Soluzione
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>L’opzione 1 è corretta. Mettere l’espressione di corrispondenza tra
virgolette impedisce alla shell di espanderla, quindi viene passata al
comando <code>find</code>.</p>
<p>L’opzione 2 funziona anche in questo caso, perché la shell tenta di
espandere <code>*.dat</code> ma non ci sono file <code>*.dat</code>
nella directory corrente, quindi l’espressione jolly viene passata a
<code>find</code>. L’abbiamo incontrato per la prima volta in [episodio
3] (03-create.md).</p>
<p>L’opzione 3 non è corretta perché cerca nel contenuto dei file le
righe che non corrispondono a “unicorno”, anziché cercare nei nomi dei
file.</p>
</div>
</div>
</div>
</div>
<div id="file-binari" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="file-binari" class="callout-inner">
<h3 class="callout-title">File binari</h3>
<div class="callout-content">
<p>Ci siamo concentrati esclusivamente sulla ricerca di modelli nei file
di testo. Cosa succede se i dati sono archiviati come immagini, in
database o in altri formati?</p>
<p>Una manciata di strumenti estende <code>grep</code> per gestire
alcuni formati diversi dal testo. Ma un approccio più generalizzabile è
quello di convertire i dati in testo o di estrarre gli elementi simili
al testo dai dati. Da un lato, questo rende le cose semplici facili da
fare. D’altra parte, le cose complesse sono di solito impossibili. Per
esempio, è abbastanza facile scrivere un programma che estragga le
dimensioni X e Y da file di immagini per giocare con <code>grep</code>,
ma come si potrebbe scrivere qualcosa per trovare valori in un foglio di
calcolo le cui celle contengono formule?</p>
<p>Un’ultima opzione è riconoscere che la shell e l’elaborazione del
testo hanno i loro limiti e utilizzare un altro linguaggio di
programmazione. Quando arriva il momento di farlo, non siate troppo duri
con la shell. Molti linguaggi di programmazione moderni hanno preso in
prestito molte idee da essa, e l’imitazione è anche la forma più sincera
di lode.</p>
</div>
</div>
</div>
<p>La shell Unix è più vecchia della maggior parte delle persone che la
usano. È sopravvissuta così a lungo perché è uno degli ambienti di
programmazione più produttivi mai creati, forse addirittura il più
produttivo. La sua sintassi può essere criptica, ma chi la padroneggia
può sperimentare diversi comandi in modo interattivo e poi usare ciò che
ha imparato per automatizzare il proprio lavoro. Le interfacce utente
grafiche possono essere più facili da usare all’inizio, ma una volta
imparate, la produttività della shell è imbattibile. E come scrisse
Alfred North Whitehead nel 1911, “la civiltà progredisce ampliando il
numero di operazioni importanti che possiamo eseguire senza
pensarci”</p>
<div id="find-comprensione-della-lettura-del-gasdotto" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="find-comprensione-della-lettura-del-gasdotto" class="callout-inner">
<h3 class="callout-title">
<code>find</code> Comprensione della lettura
del gasdotto</h3>
<div class="callout-content">
<p>Scrivere un breve commento esplicativo per il seguente script di
shell:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.dat"</span><span class="va">)</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Soluzione
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Trova tutti i file con estensione <code>.dat</code> ricorsivamente
dalla directory corrente</li>
<li>Conta il numero di righe contenute in ciascuno di questi file</li>
<li>Ordina numericamente l’output del passo 2</li>
</ol>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Punti Chiave</h3>
<div class="callout-content">
<ul>
<li>
<code>find</code> trova file con proprietà specifiche che
corrispondono ai modelli.</li>
<li>
<code>grep</code> seleziona le righe dei file che corrispondono ai
modelli.</li>
<li>
<code>--help</code> è un’opzione supportata da molti comandi bash e
programmi che possono essere eseguiti da Bash, per visualizzare
ulteriori informazioni sull’uso di tali comandi o programmi.</li>
<li>
<code>man [command]</code> visualizza la pagina del manuale per un
determinato comando.</li>
<li>
<code>$([command])</code> inserisce l’output di un comando al suo
posto.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>Questa lezione è soggetta al <a href="CODE_OF_CONDUCT.html">Codice di Condotta</a></p>
        <p>

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/README.md" class="external-link">Modifica su GitHub</a>

	
        | <a href="https://github.com/swcarpentry/shell-novice/blob/main/CONTRIBUTING.md" class="external-link">Contributi</a>
        | <a href="https://github.com/swcarpentry/shell-novice/" class="external-link">Fonte</a></p>
				<p><a href="https://github.com/swcarpentry/shell-novice/blob/main/CITATION" class="external-link">Cita</a> | <a href="mailto:team@carpentries.org">Contatti</a> | <a href="https://carpentries.org/about/" class="external-link">Informazioni</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template concesso in licenza sotto <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> da <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Realizzato con <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a> e <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Torna all'inizio"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Indietro</span> Torna all'inizio
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "inLanguage": "it",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Visualizzazione Tutto in Uno",
  "creativeWorkStatus": "active",
  "url": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "identifier": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "dateCreated": "2014-10-22",
  "dateModified": "2025-05-06",
  "datePublished": "2025-05-06"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

